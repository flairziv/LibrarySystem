{"ast":null,"code":"import { defineProps, defineEmits } from 'vue';\nimport { Expand, Fold, ArrowUp, User, Setting, SwitchButton, House, Reading, View, Connection, Message, Star, Bell, Notebook, ChatDotSquare, Timer, Collection } from '@element-plus/icons-vue';\nexport default {\n  name: 'UserNavigation',\n  components: {\n    Expand,\n    Fold,\n    ArrowUp,\n    User,\n    Setting,\n    SwitchButton,\n    House,\n    Reading,\n    View,\n    Connection,\n    Message,\n    Star,\n    Bell,\n    Notebook,\n    ChatDotSquare,\n    Timer,\n    Collection\n  },\n  props: {\n    routes: {\n      type: Array,\n      default: () => []\n    },\n    currentRouteName: {\n      type: String,\n      default: ''\n    },\n    userInfo: {\n      type: Object,\n      default: () => ({})\n    },\n    isCollapsed: Boolean,\n    userCenterPath: {\n      type: Object,\n      default: () => ({\n        name: '个人中心',\n        path: '/mySelf'\n      })\n    }\n  },\n  emits: ['route-click', 'toggle-collapse', 'logout'],\n  setup(props, {\n    emit\n  }) {\n    const handleRouteClick = route => {\n      emit('route-click', route);\n    };\n    const goToUserCenter = () => {\n      emit('route-click', props.userCenterPath);\n    };\n    const toggleCollapse = () => {\n      emit('toggle-collapse');\n    };\n    const handleLogout = () => {\n      emit('logout');\n    };\n    const handleCommand = command => {\n      switch (command) {\n        case 'profile':\n          goToUserCenter();\n          break;\n        case 'settings':\n          // 可以添加设置页面的路由\n          emit('route-click', {\n            name: '设置',\n            path: '/settings'\n          });\n          break;\n        case 'logout':\n          handleLogout();\n          break;\n      }\n    };\n    return {\n      handleRouteClick,\n      goToUserCenter,\n      toggleCollapse,\n      handleLogout,\n      handleCommand\n    };\n  }\n};","map":{"version":3,"names":["defineProps","defineEmits","Expand","Fold","ArrowUp","User","Setting","SwitchButton","House","Reading","View","Connection","Message","Star","Bell","Notebook","ChatDotSquare","Timer","Collection","name","components","props","routes","type","Array","default","currentRouteName","String","userInfo","Object","isCollapsed","Boolean","userCenterPath","path","emits","setup","emit","handleRouteClick","route","goToUserCenter","toggleCollapse","handleLogout","handleCommand","command"],"sources":["E:\\code\\IntelliJ_IDEAProjects\\LibrarySystem\\libraryNetView\\src\\components\\UserNavigation.vue"],"sourcesContent":["<template>\n  <div class=\"menu-side\" :class=\"{ 'menu-side-narrow': isCollapsed }\">\n    <!-- 顶部Logo区域 -->\n    <div class=\"logo-container\">\n      <img src=\"/Logo2.png\" class=\"logo-image\">\n      <div class=\"logo-text\">悦读空间</div>\n      <div class=\"collapse-btn\" @click=\"toggleCollapse\">\n        <el-icon>\n          <component :is=\"isCollapsed ? 'Expand' : 'Fold'\" />\n        </el-icon>\n      </div>\n    </div>\n    \n    <!-- 导航菜单区域 -->\n    <div class=\"navigation-container\">\n      <div class=\"nav-group\">\n        <div v-for=\"(routeItem, index) in (routes || [])\" \n          :key=\"index\"\n          class=\"item-route\" \n          :class=\"{'active-route': currentRouteName === routeItem.name}\"\n          @click=\"handleRouteClick(routeItem)\">\n          <div class=\"active-indicator\" v-if=\"currentRouteName === routeItem.name\"></div>\n          <div class=\"item-content\">\n            <el-icon v-if=\"routeItem.icon\" class=\"nav-icon\">\n              <component :is=\"routeItem.icon\" />\n            </el-icon>\n            <span class=\"route-text\">{{ routeItem.name }}</span>\n          </div>\n          <el-tooltip \n            v-if=\"isCollapsed\" \n            :content=\"routeItem.name\" \n            placement=\"right\" \n            :open-delay=\"300\">\n            <span class=\"tooltip-trigger\"></span>\n          </el-tooltip>\n        </div>\n      </div>\n      \n      <!-- 底部用户信息区域 -->\n      <div class=\"user-section\">\n        <div class=\"divider\"></div>\n        \n        <!-- 用户信息下拉菜单 -->\n        <el-dropdown @command=\"handleCommand\" placement=\"top-start\" trigger=\"click\">\n          <div class=\"item-route user-info-item\">\n            <div class=\"item-content\">\n              <img :src=\"userInfo.url || '/assets/default-avatar.png'\" class=\"user-avatar\">\n              <div class=\"user-details\" v-if=\"!isCollapsed\">\n                <span class=\"username\">{{ userInfo.name || '用户' }}</span>\n                <span class=\"user-role\">{{ userInfo.role === 1 ? '管理员' : '读者' }}</span>\n              </div>\n              <el-icon class=\"dropdown-icon\" v-if=\"!isCollapsed\">\n                <ArrowUp />\n              </el-icon>\n            </div>\n          </div>\n          <template #dropdown>\n            <el-dropdown-menu>\n              <el-dropdown-item command=\"profile\">\n                <el-icon><User /></el-icon>\n                个人中心\n              </el-dropdown-item>\n              <el-dropdown-item command=\"settings\">\n                <el-icon><Setting /></el-icon>\n                设置\n              </el-dropdown-item>\n              <el-dropdown-item divided command=\"logout\">\n                <el-icon><SwitchButton /></el-icon>\n                退出登录\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </template>\n        </el-dropdown>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineProps, defineEmits } from 'vue'\nimport { \n  Expand, \n  Fold, \n  ArrowUp, \n  User, \n  Setting, \n  SwitchButton,\n  House,\n  Reading,\n  View,\n  Connection,\n  Message,\n  Star,\n  Bell,\n  Notebook,\n  ChatDotSquare,\n  Timer,\n  Collection\n} from '@element-plus/icons-vue'\n\nexport default {\n  name: 'UserNavigation',\n  components: {\n    Expand,\n    Fold,\n    ArrowUp,\n    User,\n    Setting,\n    SwitchButton,\n    House,\n    Reading,\n    View,\n    Connection,\n    Message,\n    Star,\n    Bell,\n    Notebook,\n    ChatDotSquare,\n    Timer,\n    Collection\n  },\n  props: {\n    routes: {\n      type: Array,\n      default: () => []\n    },\n    currentRouteName: {\n      type: String,\n      default: ''\n    },\n    userInfo: {\n      type: Object,\n      default: () => ({})\n    },\n    isCollapsed: Boolean,\n    userCenterPath: {\n      type: Object,\n      default: () => ({ name: '个人中心', path: '/mySelf' })\n    }\n  },\n  emits: ['route-click', 'toggle-collapse', 'logout'],\n  setup(props, { emit }) {\n    const handleRouteClick = (route) => {\n      emit('route-click', route)\n    }\n\n    const goToUserCenter = () => {\n      emit('route-click', props.userCenterPath)\n    }\n\n    const toggleCollapse = () => {\n      emit('toggle-collapse')\n    }\n\n    const handleLogout = () => {\n      emit('logout')\n    }\n\n    const handleCommand = (command) => {\n      switch (command) {\n        case 'profile':\n          goToUserCenter()\n          break\n        case 'settings':\n          // 可以添加设置页面的路由\n          emit('route-click', { name: '设置', path: '/settings' })\n          break\n        case 'logout':\n          handleLogout()\n          break\n      }\n    }\n\n    return {\n      handleRouteClick,\n      goToUserCenter,\n      toggleCollapse,\n      handleLogout,\n      handleCommand\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.menu-side {\n  width: 230px !important;\n  min-width: 120px !important;\n  height: 100vh;\n  box-sizing: border-box;\n  transition: width 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n  border-right: 1px solid rgba(0, 0, 0, 0.05);\n  background-image: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);\n  backdrop-filter: blur(10px);\n  display: flex;\n  flex-direction: column;\n  border-radius: 0 20px 20px 0;\n  overflow: hidden;\n  position: relative;\n  flex-shrink: 0;\n  z-index: 1000;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);\n}\n\n.logo-container {\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  padding-left: 30px;\n  margin-bottom: 10px;\n  position: relative;\n  transition: padding 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n  background-color: transparent;\n  \n  .logo-image {\n    width: 48px;\n    height: 48px;\n    border-radius: 12px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transition: transform 0.3s ease;\n    object-fit: cover;\n    \n    &:hover {\n      transform: scale(1.05);\n      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n    }\n  }\n  \n  .logo-text {\n    margin-left: 12px;\n    font-size: 20px;\n    color: white;\n    font-weight: 600;\n    letter-spacing: 1px;\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    font-family: '抖音美好体', '微软雅黑', sans-serif;\n  }\n  \n  .collapse-btn {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 32px;\n    height: 32px;\n    border-radius: 8px;\n    background-color: rgba(255, 199, 199, 0.4);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      background-color: rgba(255, 199, 199, 0.6);\n      transform: translateY(-50%) scale(1.05);\n    }\n    \n    i {\n      font-size: 18px;\n      color: white;\n    }\n  }\n}\n\n.navigation-container {\n  display: flex;\n  flex-direction: column;\n  padding: 10px 14px;\n  overflow-y: auto;\n  flex: 1;\n  justify-content: space-between;\n  \n  &::-webkit-scrollbar {\n    width: 4px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(255, 123, 0, 0.15);\n    border-radius: 10px;\n  }\n}\n\n.nav-group {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.item-route {\n  position: relative;\n  padding: 12px 14px;\n  margin: 4px 0;\n  border-radius: 15px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  height: 48px;\n  box-sizing: border-box;\n  width: 100%;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  border: none;\n  \n  .item-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 8px;\n    position: relative;\n    z-index: 2;\n    width: 100%;\n  }\n  \n  &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(255, 226, 226, 0.4);\n    border-radius: 15px;\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(0.5);\n    transition: transform 0.3s ease, opacity 0.3s ease;\n    z-index: 1;\n  }\n  \n  &:hover::after {\n    opacity: 1;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  \n  &:hover {\n    i, .route-text, .nav-icon {\n      color: #61c0bf;\n    }\n  }\n  \n  i, .nav-icon {\n    font-size: 20px;\n    color: white;\n    transition: all 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n    display: inline-block;\n    text-align: center;\n    text-shadow: none;\n  }\n\n  .route-text {\n    font-size: 16px;\n    color: white;\n    font-weight: 600;\n    transition: all 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n    flex: 0 1 auto;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: center;\n    text-shadow: none;\n  }\n  \n  .tooltip-trigger {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 3;\n  }\n  \n  .active-indicator {\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    width: 4px;\n    background-color: #FF7B00;\n    border-radius: 0 4px 4px 0;\n    transform: translateX(-4px);\n    transition: transform 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n    z-index: 2;\n  }\n}\n\n.active-route {\n  background-color: #bbded6;\n  box-shadow: 0 2px 8px rgba(187, 222, 214, 0.5);\n  border: none;\n  \n  .active-indicator {\n    transform: translateX(0);\n    background-color: #61c0bf;\n  }\n  \n  i, .route-text, .nav-icon {\n    color: #f38181;\n    font-weight: 600;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  }\n}\n\n.user-section {\n  margin-top: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 20px;\n}\n\n.divider {\n  height: 1px;\n  background-color: rgba(255, 226, 226, 0.6);\n  margin: 10px 0;\n  width: 100%;\n}\n\n.user-info-item {\n  background-color: rgba(187, 222, 214, 0.4);\n  height: auto !important;\n  padding-top: 8px !important;\n  padding-bottom: 8px !important;\n  \n  .item-content {\n    width: 100%;\n    align-items: center;\n    gap: 10px;\n    transition: all 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n    justify-content: space-between;\n  }\n  \n  .dropdown-icon {\n    color: white;\n    font-size: 14px;\n    margin-left: auto;\n  }\n  \n  .user-avatar {\n    width: 36px;\n    height: 36px;\n    border-radius: 12px;\n    object-fit: cover;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\n    border: 2px solid #fff;\n  }\n\n  .user-details {\n    display: flex;\n    flex-direction: column;\n    \n    .username {\n      font-weight: 600;\n      font-size: 14px;\n      color: white;\n      line-height: 1.2;\n      margin-bottom: 2px;\n    }\n    \n    .user-role {\n      font-size: 12px;\n      color: white;\n    }\n  }\n}\n\n.logout-item {\n  i {\n    color: white;\n  }\n  \n  .route-text {\n    color: white;\n  }\n  \n  &:hover::after {\n    background-color: rgba(252, 227, 138, 0.4);\n  }\n  \n  &:hover {\n    i, .route-text {\n      color: #61c0bf;\n    }\n  }\n}\n\n.menu-side-narrow {\n  width: 120px !important;\n\n  .logo-container {\n    justify-content: center;\n    padding: 20px 0;\n    position: relative;\n    \n    .logo-text {\n      width: 0;\n      margin-left: 0;\n      opacity: 0;\n      visibility: hidden;\n      position: absolute;\n      transition: opacity 0.2s cubic-bezier(0.22, 1, 0.36, 1), margin 0.25s cubic-bezier(0.22, 1, 0.36, 1), visibility 0.2s;\n    }\n    \n    .logo-image {\n      margin: 0;\n    }\n    \n    .collapse-btn {\n      position: absolute;\n      right: 0;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  .item-route {\n    padding: 12px 0;\n    \n    i {\n      margin: 0 auto;\n      font-size: 20px;\n      transition: margin 0.25s cubic-bezier(0.22, 1, 0.36, 1);\n    }\n    \n    .route-text {\n      width: 0;\n      margin-left: 0;\n      opacity: 0;\n      visibility: hidden;\n      position: absolute;\n      transition: opacity 0.2s cubic-bezier(0.22, 1, 0.36, 1), width 0.25s cubic-bezier(0.22, 1, 0.36, 1), visibility 0.2s;\n    }\n  }\n  \n  .user-info-item {\n    .user-details {\n      width: 0;\n      margin-left: 0;\n      opacity: 0;\n      visibility: hidden;\n      position: absolute;\n      transition: opacity 0.2s cubic-bezier(0.22, 1, 0.36, 1), visibility 0.2s;\n    }\n    \n    .user-avatar {\n      width: 30px;\n      height: 30px;\n      border-radius: 10px;\n      margin: 0 auto;\n    }\n  }\n}\n\n.nav-tooltip {\n  padding: 8px 12px;\n  border-radius: 8px;\n  background-color: rgba(48, 49, 51, 0.9);\n  border: none;\n}\n</style> \n"],"mappings":"AA+EA,SAASA,WAAW,EAAEC,WAAU,QAAS,KAAI;AAC7C,SACEC,MAAM,EACNC,IAAI,EACJC,OAAO,EACPC,IAAI,EACJC,OAAO,EACPC,YAAY,EACZC,KAAK,EACLC,OAAO,EACPC,IAAI,EACJC,UAAU,EACVC,OAAO,EACPC,IAAI,EACJC,IAAI,EACJC,QAAQ,EACRC,aAAa,EACbC,KAAK,EACLC,UAAS,QACJ,yBAAwB;AAE/B,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,UAAU,EAAE;IACVlB,MAAM;IACNC,IAAI;IACJC,OAAO;IACPC,IAAI;IACJC,OAAO;IACPC,YAAY;IACZC,KAAK;IACLC,OAAO;IACPC,IAAI;IACJC,UAAU;IACVC,OAAO;IACPC,IAAI;IACJC,IAAI;IACJC,QAAQ;IACRC,aAAa;IACbC,KAAK;IACLC;EACF,CAAC;EACDG,KAAK,EAAE;IACLC,MAAM,EAAE;MACNC,IAAI,EAAEC,KAAK;MACXC,OAAO,EAAEA,CAAA,KAAM;IACjB,CAAC;IACDC,gBAAgB,EAAE;MAChBH,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAE;IACX,CAAC;IACDG,QAAQ,EAAE;MACRL,IAAI,EAAEM,MAAM;MACZJ,OAAO,EAAEA,CAAA,MAAO,CAAC,CAAC;IACpB,CAAC;IACDK,WAAW,EAAEC,OAAO;IACpBC,cAAc,EAAE;MACdT,IAAI,EAAEM,MAAM;MACZJ,OAAO,EAAEA,CAAA,MAAO;QAAEN,IAAI,EAAE,MAAM;QAAEc,IAAI,EAAE;MAAU,CAAC;IACnD;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,aAAa,EAAE,iBAAiB,EAAE,QAAQ,CAAC;EACnDC,KAAKA,CAACd,KAAK,EAAE;IAAEe;EAAK,CAAC,EAAE;IACrB,MAAMC,gBAAe,GAAKC,KAAK,IAAK;MAClCF,IAAI,CAAC,aAAa,EAAEE,KAAK;IAC3B;IAEA,MAAMC,cAAa,GAAIA,CAAA,KAAM;MAC3BH,IAAI,CAAC,aAAa,EAAEf,KAAK,CAACW,cAAc;IAC1C;IAEA,MAAMQ,cAAa,GAAIA,CAAA,KAAM;MAC3BJ,IAAI,CAAC,iBAAiB;IACxB;IAEA,MAAMK,YAAW,GAAIA,CAAA,KAAM;MACzBL,IAAI,CAAC,QAAQ;IACf;IAEA,MAAMM,aAAY,GAAKC,OAAO,IAAK;MACjC,QAAQA,OAAO;QACb,KAAK,SAAS;UACZJ,cAAc,CAAC;UACf;QACF,KAAK,UAAU;UACb;UACAH,IAAI,CAAC,aAAa,EAAE;YAAEjB,IAAI,EAAE,IAAI;YAAEc,IAAI,EAAE;UAAY,CAAC;UACrD;QACF,KAAK,QAAQ;UACXQ,YAAY,CAAC;UACb;MACJ;IACF;IAEA,OAAO;MACLJ,gBAAgB;MAChBE,cAAc;MACdC,cAAc;MACdC,YAAY;MACZC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}