{"ast":null,"code":"import { ref, reactive, onMounted, getCurrentInstance } from 'vue';\nimport { ChatDotSquare, Delete, Avatar, View, Unlock, Lock, Close, Promotion, Search } from '@element-plus/icons-vue';\nexport default {\n  components: {\n    ChatDotSquare,\n    Delete,\n    Avatar,\n    View,\n    Unlock,\n    Lock,\n    Close,\n    Promotion,\n    Search\n  },\n  setup() {\n    const {\n      proxy\n    } = getCurrentInstance();\n\n    // 响应式数据\n    const proposal = reactive({});\n    const tags = ref(['全部', '已回复', '未回复', '我的发布']);\n    const tagSelected = ref('全部');\n    const readerProposalQueryDto = reactive({\n      current: 1,\n      size: 5\n    });\n    const proposals = ref([]);\n    const totalCount = ref(0);\n    const size = ref(5);\n    const current = ref(1);\n    const queryUser = ref(false);\n    const publishItemSelected = ref('公开');\n    const dialogWordOperation = ref(false);\n    const cardColors = ref(['blue-card', 'green-card', 'orange-card', 'purple-card', 'cyan-card']);\n    const proposalForm = ref(null);\n\n    // 方法\n    // 获取卡片样式类\n    const getCardClass = (index, proposalItem) => {\n      return cardColors.value[index % cardColors.value.length];\n    };\n\n    // 发表留言\n    const postProposal = () => {\n      proposalForm.value.validate(valid => {\n        if (!valid) return;\n\n        // 设置isPublish值\n        proposal.isPublish = publishItemSelected.value === '公开';\n        proxy.$axios.post(`/readerProposal/save`, proposal).then(res => {\n          const {\n            data\n          } = res;\n          if (data.code === 200) {\n            proxy.$notify({\n              duration: 1000,\n              title: '留言',\n              message: '留言发表成功',\n              type: 'success'\n            });\n            paramCondition('我的发布');\n            cannel();\n          }\n        }).catch(error => {\n          proxy.$notify({\n            title: '留言发表',\n            message: error.message || '发表失败',\n            type: 'error'\n          });\n          console.log(\"留言发表异常：\", error);\n        });\n      });\n    };\n\n    // 取消操作\n    const cannel = () => {\n      dialogWordOperation.value = false;\n      Object.assign(proposal, {});\n      if (proposalForm.value) {\n        proposalForm.value.resetFields();\n      }\n    };\n\n    // 打开留言对话框\n    const postWord = () => {\n      dialogWordOperation.value = true;\n    };\n\n    // 检查是否是当前用户的留言\n    const myContent = proposalItem => {\n      const userId = sessionStorage.getItem('userId');\n      return proposalItem.userId === Number(userId);\n    };\n\n    // 确认删除留言\n    const confirmDel = proposalItem => {\n      const ids = [proposalItem.id];\n      proxy.$axios.post(`/readerProposal/batchDelete`, ids).then(res => {\n        const {\n          data\n        } = res;\n        if (data.code === 200) {\n          proxy.$notify({\n            duration: 1000,\n            title: '留言删除',\n            message: '留言删除成功',\n            type: 'success'\n          });\n          fetchReaderProposal();\n        }\n      }).catch(error => {\n        proxy.$notify({\n          title: '留言删除',\n          message: error.message || '删除失败',\n          type: 'error'\n        });\n        console.log(\"删除留言异常：\", error);\n      });\n    };\n\n    // 分页大小变化\n    const handleSizeChange = sizeValue => {\n      size.value = sizeValue;\n      readerProposalQueryDto.size = sizeValue;\n      fetchReaderProposal();\n    };\n\n    // 当前页变化\n    const handleCurrentChange = currentValue => {\n      current.value = currentValue;\n      readerProposalQueryDto.current = currentValue;\n      fetchReaderProposal();\n    };\n\n    // 筛选标签点击\n    const condition = tag => {\n      tagSelected.value = tag;\n      paramCondition(tag);\n    };\n\n    // 设置查询参数\n    const paramCondition = tag => {\n      switch (tag) {\n        case '全部':\n          queryUser.value = false;\n          readerProposalQueryDto.isReply = null;\n          break;\n        case '已回复':\n          queryUser.value = false;\n          readerProposalQueryDto.isReply = true;\n          break;\n        case '未回复':\n          queryUser.value = false;\n          readerProposalQueryDto.isReply = false;\n          break;\n        case '我的发布':\n          queryUser.value = true;\n          break;\n      }\n      fetchReaderProposal();\n    };\n\n    // 查询留言列表\n    const fetchReaderProposal = () => {\n      readerProposalQueryDto.size = size.value;\n      readerProposalQueryDto.current = current.value;\n      const endpoint = queryUser.value ? '/readerProposal/queryUser' : '/readerProposal/query';\n      proxy.$axios.post(endpoint, readerProposalQueryDto).then(res => {\n        const {\n          data\n        } = res;\n        if (data.code === 200) {\n          proposals.value = data.data;\n          totalCount.value = data.total;\n        }\n      }).catch(error => {\n        console.log(\"查询用户留言异常：\", error);\n      });\n    };\n\n    // 生命周期\n    onMounted(() => {\n      fetchReaderProposal();\n    });\n    return {\n      proposal,\n      tags,\n      tagSelected,\n      readerProposalQueryDto,\n      proposals,\n      totalCount,\n      size,\n      current,\n      queryUser,\n      publishItemSelected,\n      dialogWordOperation,\n      cardColors,\n      proposalForm,\n      getCardClass,\n      postProposal,\n      cannel,\n      postWord,\n      myContent,\n      confirmDel,\n      handleSizeChange,\n      handleCurrentChange,\n      condition,\n      paramCondition,\n      fetchReaderProposal\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","getCurrentInstance","ChatDotSquare","Delete","Avatar","View","Unlock","Lock","Close","Promotion","Search","components","setup","proxy","proposal","tags","tagSelected","readerProposalQueryDto","current","size","proposals","totalCount","queryUser","publishItemSelected","dialogWordOperation","cardColors","proposalForm","getCardClass","index","proposalItem","value","length","postProposal","validate","valid","isPublish","$axios","post","then","res","data","code","$notify","duration","title","message","type","paramCondition","cannel","catch","error","console","log","Object","assign","resetFields","postWord","myContent","userId","sessionStorage","getItem","Number","confirmDel","ids","id","fetchReaderProposal","handleSizeChange","sizeValue","handleCurrentChange","currentValue","condition","tag","isReply","endpoint","total"],"sources":["E:\\code\\IntelliJ_IDEAProjects\\LibrarySystem\\libraryNetView\\src\\views\\user\\Main.vue"],"sourcesContent":["<template>\n    <el-row class=\"main-proposal-container\">\n            <!-- 搜索框 -->\n        <div class=\"word-search\">\n            <div class=\"item\">\n                        <el-icon>\n                            <Search />\n                        </el-icon>\n                        <input type=\"text\" placeholder=\"搜索用户留言\" v-model=\"readerProposalQueryDto.content\">\n                        <span class=\"search-text\" @click=\"fetchReaderProposal\">搜索</span>\n                </div>\n            </div>\n            \n            <!-- 筛选标签 -->\n            <div class=\"category-container\">\n                <span class=\"category\" \n                      :class=\"{'active-category': tagSelected === tagItem}\" \n                      @click=\"condition(tagItem)\" \n                      v-for=\"(tagItem, index) in tags\" \n                      :key=\"index\">\n                    {{ tagItem }}\n                </span>\n            </div>\n            \n            <!-- 留言内容区 -->\n            <div class=\"content-section\">\n                <el-empty \n                    v-if=\"proposals.length === 0\" \n                    description=\"暂无留言\" \n                    :image-size=\"200\">\n                </el-empty>\n                \n                <div v-else class=\"card-list\">\n                    <div class=\"list-title\">\n                    <span class=\"title-text\">用户留言</span>\n                    <div class=\"line-decoration\"></div>\n                </div>\n\n                    <div v-for=\"(proposal, index) in proposals\" \n                        :key=\"index\"\n                        class=\"message-card\"\n                        :class=\"getCardClass(index, proposal)\">\n                        \n                    <div class=\"message-icon\">\n                        <el-icon><ChatDotSquare /></el-icon>\n                    </div>\n                    <div class=\"message-main\">\n                        <!-- 卡片头部 -->\n                        <div class=\"card-header\">\n                            <div class=\"user-info\">\n                                <el-avatar :src=\"proposal.userAvatar\" :size=\"36\"></el-avatar>\n                                <div class=\"user-name\">{{ proposal.userName }}</div>\n                            </div>\n                            <div class=\"message-actions\">\n                                <span class=\"message-time\">{{ proposal.createTime }}</span>\n                                <span v-if=\"proposal.replyTime !== null\" class=\"reply-tag\">已回复</span>\n                                <el-popconfirm \n                                    v-if=\"myContent(proposal)\" \n                                    title=\"确定删除这条留言吗？\" \n                                    @confirm=\"confirmDel(proposal)\">\n                                    <template #reference>\n                                        <el-button type=\"danger\" size=\"small\" circle>\n                                            <template #icon>\n                                                <el-icon><Delete /></el-icon>\n                                            </template>\n                                        </el-button>\n                                    </template>\n                                </el-popconfirm>\n                            </div>\n                        </div>\n                        \n                        <!-- 留言内容 -->\n                        <div class=\"card-content\">\n                            {{ proposal.content }}\n                        </div>\n                        \n                        <!-- 回复内容 -->\n                        <div v-if=\"proposal.replyTime !== null\" class=\"card-reply\">\n                            <div class=\"reply-header\">\n                                <el-icon><Avatar /></el-icon>\n                                <span>管理员回复</span>\n                                <span class=\"reply-time\">{{ proposal.replyTime }}</span>\n                            </div>\n                            <div class=\"reply-content\">\n                                {{ proposal.replyContent }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n            \n            <!-- 分页控件 -->\n            <div class=\"pager\" v-if=\"proposals.length !== 0\">\n                <el-pagination\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\"\n                    v-model:current-page=\"current\"\n                    :page-size=\"size\"\n                    layout=\"total, prev, pager, next\"\n                    :total=\"totalCount\">\n                </el-pagination>\n            </div>\n\n        <!-- 留言对话框 -->\n        <el-dialog \n            v-model=\"dialogWordOperation\"\n            :show-close=\"false\"\n            width=\"520px\"\n            custom-class=\"modern-dialog\"\n            :append-to-body=\"true\">\n            <!-- 对话框内容 -->\n            <div class=\"dialog-container\">\n                <!-- 对话框标题区 -->\n                <div class=\"dialog-header\">\n                    <div class=\"header-icon\">\n                        <el-icon>\n                            <EditPen />\n                        </el-icon>\n                    </div>\n                    <div class=\"header-content\">\n                        <h3 class=\"header-title\">发表留言</h3>\n                        <p class=\"header-subtitle\">分享您的想法和建议</p>\n                    </div>\n                </div>\n                \n                <!-- 表单区域 -->\n                <el-form :model=\"proposal\" ref=\"proposalForm\" class=\"proposal-form\">\n                    <!-- 输入区域 -->\n                    <div class=\"input-section\">\n                        <el-form-item prop=\"content\" :rules=\"[\n                            { required: true, message: '请输入留言内容', trigger: 'blur' },\n                            { max: 250, message: '留言内容不能超过250字', trigger: 'blur' }\n                        ]\">\n                            <el-input \n                                type=\"textarea\" \n                                :rows=\"4\" \n                                placeholder=\"请输入留言内容，250字以内\" \n                                v-model=\"proposal.content\"\n                                resize=\"none\"\n                                maxlength=\"250\"\n                                show-word-limit\n                                class=\"content-textarea\">\n                            </el-input>\n                        </el-form-item>\n                    </div>\n                    \n                    <!-- 可见性选择区域 -->\n                    <div class=\"visibility-section\">\n                        <div class=\"section-title\">\n                            <el-icon><View /></el-icon>\n                            <span>留言可见性</span>\n                        </div>\n                        \n                        <div class=\"option-cards\">\n                            <div \n                                class=\"option-card\" \n                                :class=\"{'active': publishItemSelected === '公开'}\"\n                                @click=\"publishItemSelected = '公开'\">\n                                <div class=\"card-icon\">\n                                    <el-icon><Unlock /></el-icon>\n                                </div>\n                                <div class=\"card-content\">\n                                    <h4>公开</h4>\n                                    <p>所有用户可见</p>\n                                </div>\n                                <div class=\"card-radio\">\n                                    <div class=\"radio-inner\" v-if=\"publishItemSelected === '公开'\"></div>\n                                </div>\n                            </div>\n                            \n                            <div \n                                class=\"option-card\" \n                                :class=\"{'active': publishItemSelected === '不公开'}\"\n                                @click=\"publishItemSelected = '不公开'\">\n                                <div class=\"card-icon\">\n                                    <el-icon><Lock /></el-icon>\n                                </div>\n                                <div class=\"card-content\">\n                                    <h4>不公开</h4>\n                                    <p>仅管理员可见</p>\n                                </div>\n                                <div class=\"card-radio\">\n                                    <div class=\"radio-inner\" v-if=\"publishItemSelected === '不公开'\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </el-form>\n                \n                <!-- 按钮区域 -->\n                <div class=\"action-buttons\">\n                    <button class=\"cancel-button\" @click=\"cannel\">\n                        <el-icon><Close /></el-icon>\n                        <span>取消</span>\n                    </button>\n                    <button class=\"submit-button\" @click=\"postProposal\">\n                        <el-icon><Promotion /></el-icon>\n                        <span>发表留言</span>\n                    </button>\n                </div>\n            </div>\n        </el-dialog>\n    </el-row>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, getCurrentInstance } from 'vue'\nimport { \n    ChatDotSquare, \n    Delete, \n    Avatar, \n    View, \n    Unlock, \n    Lock, \n    Close, \n    Promotion,\n    Search\n} from '@element-plus/icons-vue'\n\nexport default {\n    components: {\n        ChatDotSquare,\n        Delete,\n        Avatar,\n        View,\n        Unlock,\n        Lock,\n        Close,\n        Promotion,\n        Search\n    },\n    setup() {\n        const { proxy } = getCurrentInstance()\n        \n        // 响应式数据\n        const proposal = reactive({})\n        const tags = ref(['全部', '已回复', '未回复', '我的发布'])\n        const tagSelected = ref('全部')\n        const readerProposalQueryDto = reactive({\n            current: 1,\n            size: 5\n        })\n        const proposals = ref([])\n        const totalCount = ref(0)\n        const size = ref(5)\n        const current = ref(1)\n        const queryUser = ref(false)\n        const publishItemSelected = ref('公开')\n        const dialogWordOperation = ref(false)\n        const cardColors = ref(['blue-card', 'green-card', 'orange-card', 'purple-card', 'cyan-card'])\n        const proposalForm = ref(null)\n\n        // 方法\n        // 获取卡片样式类\n        const getCardClass = (index, proposalItem) => {\n            return cardColors.value[index % cardColors.value.length];\n        }\n            \n        // 发表留言\n        const postProposal = () => {\n            proposalForm.value.validate(valid => {\n                if (!valid) return;\n                \n                // 设置isPublish值\n                proposal.isPublish = publishItemSelected.value === '公开';\n                \n                proxy.$axios.post(`/readerProposal/save`, proposal)\n                    .then(res => {\n                        const { data } = res;\n                        if (data.code === 200) {\n                            proxy.$notify({\n                                duration: 1000,\n                                title: '留言',\n                                message: '留言发表成功',\n                                type: 'success'\n                            });\n                            paramCondition('我的发布');\n                            cannel();\n                        }\n                    })\n                    .catch(error => {\n                        proxy.$notify({\n                            title: '留言发表',\n                            message: error.message || '发表失败',\n                            type: 'error'\n                        });\n                        console.log(\"留言发表异常：\", error);\n                    });\n            });\n        }\n        \n        // 取消操作\n        const cannel = () => {\n            dialogWordOperation.value = false;\n            Object.assign(proposal, {});\n            if (proposalForm.value) {\n                proposalForm.value.resetFields();\n            }\n        }\n        \n        // 打开留言对话框\n        const postWord = () => {\n            dialogWordOperation.value = true;\n        }\n        \n        // 检查是否是当前用户的留言\n        const myContent = (proposalItem) => {\n            const userId = sessionStorage.getItem('userId');\n            return proposalItem.userId === Number(userId);\n        }\n        \n        // 确认删除留言\n        const confirmDel = (proposalItem) => {\n            const ids = [proposalItem.id];\n            proxy.$axios.post(`/readerProposal/batchDelete`, ids)\n                .then(res => {\n                const { data } = res;\n                if (data.code === 200) {\n                    proxy.$notify({\n                        duration: 1000,\n                        title: '留言删除',\n                        message: '留言删除成功',\n                        type: 'success'\n                    });\n                    fetchReaderProposal();\n                }\n                })\n                .catch(error => {\n                proxy.$notify({\n                    title: '留言删除',\n                    message: error.message || '删除失败',\n                    type: 'error'\n                });\n                console.log(\"删除留言异常：\", error);\n            });\n        }\n        \n        // 分页大小变化\n        const handleSizeChange = (sizeValue) => {\n            size.value = sizeValue;\n            readerProposalQueryDto.size = sizeValue;\n            fetchReaderProposal();\n        }\n        \n        // 当前页变化\n        const handleCurrentChange = (currentValue) => {\n            current.value = currentValue;\n            readerProposalQueryDto.current = currentValue;\n            fetchReaderProposal();\n        }\n        \n        // 筛选标签点击\n        const condition = (tag) => {\n            tagSelected.value = tag;\n            paramCondition(tag);\n        }\n        \n        // 设置查询参数\n        const paramCondition = (tag) => {\n            switch (tag) {\n                case '全部':\n                queryUser.value = false;\n                readerProposalQueryDto.isReply = null;\n                    break;\n                case '已回复':\n                queryUser.value = false;\n                readerProposalQueryDto.isReply = true;\n                    break;\n                case '未回复':\n                queryUser.value = false;\n                readerProposalQueryDto.isReply = false;\n                    break;\n                case '我的发布':\n                queryUser.value = true;\n                    break;\n            }\n            fetchReaderProposal();\n        }\n        \n        // 查询留言列表\n        const fetchReaderProposal = () => {\n            readerProposalQueryDto.size = size.value;\n            readerProposalQueryDto.current = current.value;\n            \n            const endpoint = queryUser.value ? '/readerProposal/queryUser' : '/readerProposal/query';\n            \n            proxy.$axios.post(endpoint, readerProposalQueryDto)\n                .then(res => {\n                const { data } = res;\n                if (data.code === 200) {\n                    proposals.value = data.data;\n                    totalCount.value = data.total;\n                }\n                })\n                .catch(error => {\n                console.log(\"查询用户留言异常：\", error);\n            });\n        }\n\n        // 生命周期\n        onMounted(() => {\n            fetchReaderProposal();\n        })\n\n        return {\n            proposal,\n            tags,\n            tagSelected,\n            readerProposalQueryDto,\n            proposals,\n            totalCount,\n            size,\n            current,\n            queryUser,\n            publishItemSelected,\n            dialogWordOperation,\n            cardColors,\n            proposalForm,\n            getCardClass,\n            postProposal,\n            cannel,\n            postWord,\n            myContent,\n            confirmDel,\n            handleSizeChange,\n            handleCurrentChange,\n            condition,\n            paramCondition,\n            fetchReaderProposal\n        }\n    }\n};\n</script>\n<style scoped lang=\"scss\">\n@use \"sass:color\";\n\n// 颜色变量\n$primary-color: #ff5722;\n$primary-light: rgba(255, 87, 34, 0.08);\n$primary-border: rgba(255, 87, 34, 0.2);\n$card-shadow: 0 4px 12px rgba(0,0,0,0.08);\n$hover-shadow: 0 6px 16px rgba(0,0,0,0.12);\n$text-primary: #333;\n$text-secondary: #666;\n$text-light: #999;\n$border-light: #eee;\n$background-light: #f8f9fa;\n\n// 公共动画\n@mixin hover-transform {\n  transition: all 0.3s ease;\n  &:hover {\n    transform: translateY(-2px);\n  }\n}\n\n.main-proposal-container {\n    width: 100%;\n    background-color: transparent;\n    box-shadow: none;\n    margin-bottom: 0;\n    position: relative;\n}\n\n// 列表标题样式\n.list-title {\n    margin-bottom: 30px;\n    position: relative;\n    display: flex;\n    align-items: center;\n    padding: 0 10px;\n    \n    .title-text {\n        font-size: 20px;\n        font-weight: 600;\n        color: $text-primary;\n        margin-right: 20px;\n        position: relative;\n        \n        &:after {\n            content: '';\n            position: absolute;\n            bottom: -6px;\n            left: 0;\n            width: 40px;\n            height: 3px;\n            background: $primary-color;\n            border-radius: 3px;\n        }\n    }\n    \n    .line-decoration {\n        flex: 1;\n        height: 1px;\n        background: linear-gradient(to right, rgba(0,0,0,0.1), rgba(0,0,0,0.02));\n    }\n}\n\n// 搜索框样式\n.word-search {\n        display: flex;\n    justify-content: center;\n    margin-bottom: 15px;\n    margin-top: 15px;\n        \n    .item {\n        padding: 10px 20px;\n        width: 500px;\n            background-color: white;\n            border-radius: 40px;\n        display: flex;\n        justify-content: space-between;\n            align-items: center;\n            box-sizing: border-box;\n        box-shadow: $card-shadow;\n        border: 1px solid $border-light;\n            transition: all 0.3s ease;\n            \n            &:hover, &:focus-within {\n            box-shadow: $hover-shadow;\n            border-color: $primary-border;\n            }\n            \n            input {\n                flex: 1;\n                border: none;\n                background-color: transparent;\n                outline: none;\n                font-size: 16px;\n            color: $text-primary;\n                margin: 0 15px;\n                height: 24px;\n            }\n\n        i {\n            font-size: 18px;\n            color: $primary-color;\n        }\n            \n            .search-text {\n                display: inline-block;\n                padding: 6px 16px;\n                border-radius: 20px;\n            background-color: $primary-color;\n                color: white;\n                font-size: 14px;\n                cursor: pointer;\n                transition: all 0.3s ease;\n                text-align: center;\n                \n                &:hover {\n                background-color: color.adjust($primary-color, $lightness: -5%);\n                    transform: translateY(-1px);\n            }\n        }\n    }\n}\n\n// 分类标签样式\n.category-container {\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 15px;\n    gap: 10px;\n    justify-content: center;\n}\n\n.category {\n    padding: 8px 16px;\n    border-radius: 10px;\n    background-color: white;\n    color: $text-secondary;\n    font-size: 14px;\n    cursor: pointer;\n    @include hover-transform;\n    border: 1px solid $border-light;\n    box-shadow: 0 2px 6px rgba(0,0,0,0.03);\n    \n    &:hover {\n        background-color: $primary-light;\n        color: $primary-color;\n        border-color: $primary-border;\n    }\n    \n    &.active-category {\n        background-color: $primary-light;\n        color: $primary-color;\n        font-weight: 500;\n        border-color: $primary-border;\n    }\n}\n\n// 内容区域样式\n.content-section {\n    background-color: transparent;\n    min-height: 500px;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 0 20px;\n}\n\n// 卡片列表样式\n.card-list {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    width: 100%;\n    max-width: 900px;\n    margin: 0 auto;\n}\n\n// 留言卡片样式\n.message-card {\n    display: flex;\n    margin-bottom: 20px;\n    border-radius: 16px;\n    overflow: hidden;\n    transition: all 0.3s ease;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n    background-color: white;\n    border: 1px solid #f0f0f0;\n    position: relative;\n    \n    &:hover {\n        transform: translateY(-3px);\n        box-shadow: 0 5px 15px rgba(0,0,0,0.08);\n    }\n    \n    // 根据列表位置交替背景色\n    &:nth-child(odd) {\n        background-color: #f8fbff;\n    }\n    \n    &:nth-child(even) {\n        background-color: #f5fcf5;\n    }\n    \n    // 图标区域\n    .message-icon {\n        width: 80px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: $primary-light;\n        color: $primary-color;\n        \n        i {\n            font-size: 30px;\n        }\n    }\n    \n    // 内容区域\n    .message-main {\n        flex: 1;\n        padding: 20px;\n    }\n    \n    // 颜色变体\n    &.blue-card .message-icon {\n        background-color: rgba(64, 158, 255, 0.15);\n        color: #409EFF;\n    }\n    \n    &.green-card .message-icon {\n        background-color: rgba(103, 194, 58, 0.15);\n            color: #67C23A;\n    }\n    \n    &.orange-card .message-icon {\n        background-color: rgba(255, 87, 34, 0.15);\n        color: $primary-color;\n    }\n    \n    &.purple-card .message-icon {\n        background-color: rgba(145, 94, 251, 0.15);\n        color: #915EFB;\n    }\n    \n    &.cyan-card .message-icon {\n        background-color: rgba(94, 203, 251, 0.15);\n        color: #5ECBFB;\n    }\n}\n\n// 卡片头部样式\n.card-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n    \n    .user-info {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        \n        .user-name {\n            font-weight: 500;\n            color: $text-primary;\n        }\n    }\n    \n    .message-actions {\n        display: flex;\n        align-items: center;\n        gap: 10px;\n        \n        .message-time {\n            color: $text-light;\n            font-size: 12px;\n            margin-right: 5px;\n        }\n        \n        .reply-tag {\n            display: inline-block;\n            padding: 2px 8px;\n            border-radius: 10px;\n            background-color: rgba(103, 194, 58, 0.1);\n            color: #67C23A;\n            font-size: 12px;\n            font-weight: 500;\n        }\n    }\n}\n\n// 卡片内容样式\n.card-content {\n    margin-bottom: 15px;\n    line-height: 1.6;\n    color: $text-primary;\n    position: relative;\n    padding: 12px 16px;\n    background: rgba(0,0,0,0.02);\n    border-radius: 8px;\n    border-left: 3px solid rgba(255, 87, 34, 0.3);\n}\n\n// 回复区域样式\n.card-reply {\n    background-color: #f9f9f9;\n    border-radius: 10px;\n    padding: 12px;\n    margin-top: 10px;\n    \n    .reply-header {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        margin-bottom: 8px;\n        color: #409EFF;\n        font-weight: 500;\n        \n        i {\n            font-size: 16px;\n        }\n        \n        .reply-time {\n            font-size: 12px;\n            color: $text-light;\n            margin-left: auto;\n        }\n    }\n    \n    .reply-content {\n        color: #555;\n        line-height: 1.6;\n        position: relative;\n        padding: 12px 16px;\n        background: rgba(0,0,0,0.01);\n        border-radius: 8px;\n        border-left: 3px solid rgba(64, 158, 255, 0.3);\n    }\n}\n\n// 分页样式\n.pager {\n    margin-top: 20px;\n    display: flex;\n    justify-content: center;\n}\n\n// 对话框样式\n:deep(.modern-dialog) {\n    border-radius: 14px;\n    overflow: hidden;\n    box-shadow: 0 15px 40px rgba(0,0,0,0.2);\n    \n    .el-dialog__header,\n    .el-dialog__body {\n        padding: 0;\n    }\n    \n    .el-dialog__headerbtn {\n        display: none;\n    }\n}\n\n.dialog-container {\n    padding: 0;\n}\n\n// 对话框头部\n.dialog-header {\n    display: flex;\n    align-items: center;\n    padding: 18px 22px;\n    background: linear-gradient(135deg, #ff7043 0%, $primary-color 100%);\n    color: white;\n    position: relative;\n    overflow: hidden;\n\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 150px;\n        height: 150px;\n        background: rgba(255,255,255,0.1);\n        border-radius: 50%;\n        transform: translate(50%, -50%);\n        z-index: 0;\n    }\n\n    .header-icon {\n        width: 38px;\n        height: 38px;\n        background-color: rgba(255,255,255,0.2);\n        border-radius: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-right: 14px;\n        box-shadow: 0 4px 10px rgba(0,0,0,0.1);\n        backdrop-filter: blur(5px);\n        position: relative;\n        z-index: 1;\n        \n        i {\n            font-size: 20px;\n            color: white;\n        }\n    }\n    \n    .header-content {\n        position: relative;\n        z-index: 1;\n    }\n    \n    .header-title {\n        font-size: 18px;\n        font-weight: 600;\n        margin: 0 0 3px 0;\n    }\n    \n    .header-subtitle {\n        font-size: 13px;\n        margin: 0;\n        opacity: 0.9;\n    }\n}\n\n// 表单样式\n.proposal-form {\n    padding: 18px 22px;\n}\n\n.input-section {\n    margin-bottom: 20px;\n\n    :deep(.el-textarea__inner) {\n        border-radius: 10px;\n        padding: 12px;\n        font-size: 14px;\n        border: 1px solid #e0e0e0;\n        box-shadow: inset 0 2px 4px rgba(0,0,0,0.03);\n        transition: all 0.3s;\n        \n        &:hover {\n            border-color: #ff9800;\n        }\n        \n        &:focus {\n            border-color: $primary-color;\n            box-shadow: 0 0 0 3px rgba(255, 87, 34, 0.1);\n        }\n    }\n\n    :deep(.el-textarea__word-count) {\n        color: $text-light;\n        font-size: 12px;\n        background: rgba(0,0,0,0.04);\n        padding: 2px 8px;\n        border-radius: 16px;\n        bottom: -22px;\n        right: 5px;\n    }\n}\n\n// 可见性设置区域\n.visibility-section {\n    background-color: #f9f9f9;\n    border-radius: 12px;\n    padding: 16px;\n    margin-bottom: 20px;\n    \n    .section-title {\n        display: flex;\n        align-items: center;\n        margin-bottom: 12px;\n        \n        i {\n            font-size: 16px;\n            color: $primary-color;\n            margin-right: 6px;\n        }\n        \n        span {\n            font-size: 14px;\n            font-weight: 500;\n            color: $text-primary;\n        }\n    }\n}\n\n// 可见性选项卡片\n.option-cards {\n    display: flex;\n    gap: 12px;\n}\n\n.option-card {\n    flex: 1;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    padding: 12px;\n    background-color: white;\n    border-radius: 10px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    border: 2px solid transparent;\n    position: relative;\n    overflow: hidden;\n    \n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: linear-gradient(135deg, rgba(255,87,34,0.05) 0%, rgba(255,152,0,0.05) 100%);\n        opacity: 0;\n        transition: opacity 0.3s;\n    }\n    \n    &:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n        \n        &::before {\n            opacity: 1;\n        }\n    }\n    \n    &.active {\n        border-color: $primary-color;\n        background-color: $primary-light;\n        \n        .card-icon {\n            background-color: $primary-color;\n            \n            i {\n                color: white;\n            }\n        }\n        \n        h4 {\n            color: $primary-color;\n        }\n    }\n    \n    .card-icon {\n        width: 32px;\n        height: 32px;\n        border-radius: 8px;\n        background-color: #f5f5f5;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s;\n        \n        i {\n            font-size: 16px;\n            color: $text-secondary;\n        }\n    }\n    \n    .card-content {\n        flex: 1;\n        padding: 0;\n        margin: 0;\n        background: none;\n        border: none;\n        \n        h4 {\n            margin: 0 0 2px 0;\n            font-size: 14px;\n            font-weight: 500;\n            color: $text-primary;\n            transition: color 0.3s;\n        }\n        \n        p {\n            margin: 0;\n            font-size: 12px;\n            color: $text-light;\n        }\n    }\n    \n    .card-radio {\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        border: 2px solid #ddd;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transition: all 0.3s;\n        \n        .radio-inner {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background-color: $primary-color;\n        }\n    }\n    \n    &.active .card-radio {\n        border-color: $primary-color;\n    }\n}\n\n// 操作按钮\n.action-buttons {\n    display: flex;\n    justify-content: flex-end;\n    padding: 0 22px 22px;\n    gap: 12px;\n    \n    button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 6px;\n        height: 36px;\n        padding: 0 18px;\n        border: none;\n        border-radius: 10px;\n        font-size: 14px;\n        font-weight: 500;\n        cursor: pointer;\n        transition: all 0.3s;\n        \n        i {\n            font-size: 14px;\n        }\n    }\n    \n    .cancel-button {\n        background-color: #f5f5f5;\n        color: $text-secondary;\n        font-size: 14px;\n        \n        &:hover {\n            background-color: #eee;\n            transform: translateY(-2px);\n        }\n    }\n    \n    .submit-button {\n        background: linear-gradient(to right, #ff7043, $primary-color);\n        color: white;\n        font-size: 14px;\n        box-shadow: 0 3px 8px rgba(255,87,34,0.3);\n        \n        &:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 4px 12px rgba(255,87,34,0.4);\n        }\n    }\n}\n\n// Element UI 组件样式覆盖\n:deep(.el-pagination) {\n    padding: 15px 0;\n    \n    .btn-prev, .btn-next, .el-pager li {\n        border-radius: 8px;\n        transition: all 0.3s ease;\n    }\n    \n    .el-pager li.active {\n        background-color: $primary-color;\n        color: white;\n    }\n}\n\n:deep(.el-card__body) {\n    padding: 16px;\n}\n\n:deep(.el-textarea__inner) {\n    border-radius: 10px;\n    \n    &:focus {\n        border-color: $primary-color;\n    }\n}\n\n:deep(.el-radio__input.is-checked .el-radio__inner) {\n    background-color: $primary-color;\n    border-color: $primary-color;\n}\n\n:deep(.el-radio__input.is-checked + .el-radio__label) {\n    color: $primary-color;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}