{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, getCurrentInstance } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { User, UserFilled, Lock } from '@element-plus/icons-vue';\nimport request from \"@/utils/request.js\";\nimport md5 from 'js-md5';\nimport Logo from '@/components/Logo.vue';\nconst DELAY_TIME = 1300;\nexport default {\n  name: \"Register\",\n  components: {\n    Logo,\n    User,\n    UserFilled,\n    Lock\n  },\n  setup() {\n    const {\n      proxy\n    } = getCurrentInstance();\n    const router = useRouter();\n\n    // 响应式数据\n    const act = ref(''); // 账号\n    const pwd = ref(''); // 密码\n    const pwdConfirm = ref(''); // 确认密码\n    const name = ref(''); // 用户名\n\n    // 返回登录页面\n    const toDoLogin = () => {\n      router.push('/login');\n    };\n    const registerFunc = async () => {\n      if (!act.value || !pwd.value || !pwdConfirm.value || !name.value) {\n        proxy.$swal.fire({\n          title: '填写校验',\n          text: '账号或密码或用户名不能为空',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: DELAY_TIME\n        });\n        return;\n      }\n      if (pwd.value !== pwdConfirm.value) {\n        proxy.$swal.fire({\n          title: '填写校验',\n          text: '前后密码输入不一致',\n          icon: 'error',\n          showConfirmButton: false,\n          timer: DELAY_TIME\n        });\n        return;\n      }\n      const hashedPwd = md5(md5(pwd.value));\n      const paramDTO = {\n        userAccount: act.value,\n        userPwd: hashedPwd,\n        userName: name.value\n      };\n      try {\n        const {\n          data\n        } = await request.post(`user/register`, paramDTO);\n        if (data.code !== 200) {\n          proxy.$swal.fire({\n            title: '注册失败',\n            text: data.msg,\n            icon: 'error',\n            showConfirmButton: false,\n            timer: DELAY_TIME\n          });\n          return;\n        }\n        // 使用Swal通知注册成功，延迟后跳转\n        proxy.$swal.fire({\n          title: '注册成功',\n          text: '即将返回登录页...',\n          icon: 'success',\n          showConfirmButton: false,\n          timer: DELAY_TIME\n        });\n        // 根据角色延迟跳转\n        setTimeout(() => {\n          router.push('/login');\n        }, DELAY_TIME);\n      } catch (error) {\n        console.error('注册请求错误:', error);\n      }\n    };\n    return {\n      act,\n      pwd,\n      pwdConfirm,\n      name,\n      toDoLogin,\n      registerFunc\n    };\n  }\n};","map":{"version":3,"names":["ref","getCurrentInstance","useRouter","User","UserFilled","Lock","request","md5","Logo","DELAY_TIME","name","components","setup","proxy","router","act","pwd","pwdConfirm","toDoLogin","push","registerFunc","value","$swal","fire","title","text","icon","showConfirmButton","timer","hashedPwd","paramDTO","userAccount","userPwd","userName","data","post","code","msg","setTimeout","error","console"],"sources":["E:\\code\\IntelliJ_IDEAProjects\\LibrarySystem\\libraryNetView\\src\\views\\register\\Register.vue"],"sourcesContent":["<template>\n    <div class=\"register-container\">\n        <!-- 注册面板 -->\n        <div class=\"register-panel\">\n            <div class=\"register-header\">\n                <div class=\"logo-text\">Book</div>\n                <h2>用户注册</h2>\n                <p class=\"register-subtitle\">图书管理系统</p>\n            </div>\n            \n            <div class=\"input-group\">\n                <div class=\"input-item\">\n                    <el-icon class=\"icon-user\"><User /></el-icon>\n                    <input v-model=\"act\" class=\"input-field\" placeholder=\"请输入账号\" />\n                    <span class=\"input-focus-border\"></span>\n                </div>\n                <div class=\"input-item\">\n                    <el-icon class=\"icon-profile\"><UserFilled /></el-icon>\n                    <input v-model=\"name\" class=\"input-field\" placeholder=\"请输入用户名\" />\n                    <span class=\"input-focus-border\"></span>\n            </div>\n                <div class=\"input-item\">\n                    <el-icon class=\"icon-lock\"><Lock /></el-icon>\n                    <input v-model=\"pwd\" class=\"input-field\" type=\"password\" placeholder=\"请输入密码\" />\n                    <span class=\"input-focus-border\"></span>\n            </div>\n                <div class=\"input-item\">\n                    <el-icon class=\"icon-lock\"><Lock /></el-icon>\n                    <input v-model=\"pwdConfirm\" class=\"input-field\" type=\"password\" placeholder=\"请确认密码\" />\n                    <span class=\"input-focus-border\"></span>\n            </div>\n            </div>\n            \n            <div class=\"register-action\">\n                <button class=\"register-btn\" @click=\"registerFunc\">\n                    <span>立即注册</span>\n                    <i class=\"btn-icon\">→</i>\n                </button>\n            </div>\n            \n            <div class=\"tip\">\n                <p>已有账户？<span class=\"login-link\" @click=\"toDoLogin\">返回登录</span></p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref, getCurrentInstance } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { User, UserFilled, Lock } from '@element-plus/icons-vue'\nimport request from \"@/utils/request.js\"\nimport md5 from 'js-md5'\nimport Logo from '@/components/Logo.vue'\n\nconst DELAY_TIME = 1300\n\nexport default {\n    name: \"Register\",\n    components: { \n        Logo,\n        User,\n        UserFilled,\n        Lock\n    },\n    setup() {\n        const { proxy } = getCurrentInstance()\n        const router = useRouter()\n        \n        // 响应式数据\n        const act = ref('') // 账号\n        const pwd = ref('') // 密码\n        const pwdConfirm = ref('') // 确认密码\n        const name = ref('') // 用户名\n\n        // 返回登录页面\n        const toDoLogin = () => {\n            router.push('/login')\n        }\n\n        const registerFunc = async () => {\n            if (!act.value || !pwd.value || !pwdConfirm.value || !name.value) {\n                proxy.$swal.fire({\n                    title: '填写校验',\n                    text: '账号或密码或用户名不能为空',\n                    icon: 'error',\n                    showConfirmButton: false,\n                    timer: DELAY_TIME,\n                })\n                return\n            }\n            if (pwd.value !== pwdConfirm.value) {\n                proxy.$swal.fire({\n                    title: '填写校验',\n                    text: '前后密码输入不一致',\n                    icon: 'error',\n                    showConfirmButton: false,\n                    timer: DELAY_TIME,\n                })\n                return\n            }\n            const hashedPwd = md5(md5(pwd.value))\n            const paramDTO = { userAccount: act.value, userPwd: hashedPwd, userName: name.value }\n            try {\n                const { data } = await request.post(`user/register`, paramDTO)\n                if (data.code !== 200) {\n                    proxy.$swal.fire({\n                        title: '注册失败',\n                        text: data.msg,\n                        icon: 'error',\n                        showConfirmButton: false,\n                        timer: DELAY_TIME,\n                    })\n                    return\n                }\n                // 使用Swal通知注册成功，延迟后跳转\n                proxy.$swal.fire({\n                    title: '注册成功',\n                    text: '即将返回登录页...',\n                    icon: 'success',\n                    showConfirmButton: false,\n                    timer: DELAY_TIME,\n                })\n                // 根据角色延迟跳转\n                setTimeout(() => {\n                    router.push('/login')\n                }, DELAY_TIME)\n            } catch (error) {\n                console.error('注册请求错误:', error)\n            }\n        }\n\n        return {\n            act,\n            pwd,\n            pwdConfirm,\n            name,\n            toDoLogin,\n            registerFunc\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n/* 使用系统默认字体 */\n/* 如果需要自定义字体，请将字体文件放入 src/assets/fonts/ 目录 */\n\n* {\n    user-select: none;\n}\n\n@keyframes float {\n    0% {\n        transform: translateY(0px);\n    }\n    50% {\n        transform: translateY(-10px);\n    }\n    100% {\n        transform: translateY(0px);\n    }\n}\n\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.register-container {\n    width: 100%;\n    min-height: 100vh;\n    background: linear-gradient(135deg, #ff9a9e, #fbc2eb, #a1c4fd, #c2e9fb);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    position: relative;\n    overflow: hidden;\n}\n\n    .register-panel {\n    width: 450px;\n    padding: 40px;\n    border-radius: 24px;\n    background: rgba(255, 255, 255, 0.1);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.3);\n    box-shadow: 0 15px 35px rgba(31, 38, 135, 0.2);\n    z-index: 2;\n    transition: all 0.5s ease;\n    animation: fadeIn 0.8s ease-out forwards;\n    \n    &:hover {\n        box-shadow: 0 20px 40px rgba(31, 38, 135, 0.3);\n        transform: translateY(-5px);\n        }\n\n    .register-header {\n        margin-bottom: 25px;\n        text-align: center;\n        position: relative;\n        \n        .logo-text {\n            font-size: 24px;\n            font-weight: 800;\n            color: white;\n            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n            letter-spacing: 1px;\n            margin-bottom: 10px;\n        }\n        \n        h2 {\n            color: #fff;\n            font-size: 30px;\n            font-weight: 700;\n            margin-bottom: 8px;\n            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n            letter-spacing: 2px;\n            animation: float 3s ease-in-out infinite;\n        }\n        \n        .register-subtitle {\n            color: rgba(255, 255, 255, 1);\n            font-size: 16px;\n            letter-spacing: 1px;\n            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n            font-family: 'PingFang SC', 'Microsoft YaHei', '微软雅黑', sans-serif;\n        }\n    }\n    \n    .input-group {\n        margin-bottom: 20px;\n    }\n    \n    .input-item {\n        position: relative;\n        margin-bottom: 16px;\n        \n        .icon-user, .icon-profile, .icon-lock {\n            position: absolute;\n            left: 20px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: rgba(255, 255, 255, 0.9);\n            font-size: 20px;\n            z-index: 1;\n            transition: all 0.3s ease;\n            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        }\n        \n        .input-focus-border {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 0;\n            height: 2px;\n            background: linear-gradient(to right, #a18cd1, #fbc2eb);\n            transition: width 0.3s ease;\n        }\n    }\n    \n    .input-field {\n        width: 100%;\n        height: 52px;\n        border-radius: 18px;\n        border: 1px solid rgba(255, 255, 255, 0.3);\n        background-color: rgba(255, 255, 255, 0.1);\n        padding: 0 20px 0 55px;\n        font-size: 16px;\n        transition: all 0.3s ease;\n        box-sizing: border-box;\n        color: white;\n        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        \n        &:focus {\n            outline: none;\n            border-color: rgba(255, 255, 255, 0.8);\n            background-color: rgba(255, 255, 255, 0.15);\n            box-shadow: 0 5px 15px rgba(161, 196, 253, 0.2);\n            \n            & + .input-focus-border {\n                width: 100%;\n            }\n            \n            & ~ .icon-user, & ~ .icon-profile, & ~ .icon-lock {\n                color: white;\n                text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);\n            }\n        }\n\n        &::placeholder {\n            color: rgba(255, 255, 255, 0.7);\n            font-weight: 300;\n        }\n    }\n    \n    .register-action {\n        margin-top: 10px;\n    }\n\n    .register-btn {\n        width: 100%;\n        height: 52px;\n        border-radius: 18px;\n        background: linear-gradient(45deg, #a18cd1, #fbc2eb);\n        color: white;\n        font-size: 18px;\n        font-weight: 600;\n        border: none;\n        cursor: pointer;\n        transition: all 0.4s ease;\n        letter-spacing: 1px;\n        position: relative;\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        \n        span {\n            margin-right: 10px;\n            position: relative;\n            z-index: 2;\n        }\n        \n        .btn-icon {\n            font-size: 22px;\n            position: relative;\n            z-index: 2;\n            transition: transform 0.3s ease;\n        }\n        \n        &:before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(45deg, #8e78c9, #f9aee5);\n            opacity: 0;\n            transition: opacity 0.4s ease;\n        }\n        \n        &:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 7px 20px rgba(161, 196, 253, 0.4);\n            \n            &:before {\n                opacity: 1;\n            }\n            \n            .btn-icon {\n                transform: translateX(5px);\n            }\n        }\n        \n        &:active {\n            transform: translateY(0);\n        }\n    }\n\n    .tip {\n        margin-top: 25px;\n        text-align: center;\n\n        p {\n            color: rgba(255, 255, 255, 0.9);\n            font-size: 15px;\n            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n            \n            .login-link {\n                color: #ffffff;\n                margin-left: 5px;\n                font-weight: 600;\n                cursor: pointer;\n                transition: all 0.3s ease;\n                text-decoration: none;\n                position: relative;\n                padding-bottom: 2px;\n                text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n                \n                &:after {\n                    content: '';\n                    position: absolute;\n                    width: 0;\n                    height: 2px;\n                    bottom: 0;\n                    left: 0;\n                    background: linear-gradient(to right, #a18cd1, #fbc2eb);\n                    transition: width 0.3s ease;\n                }\n                \n                &:hover {\n                    text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);\n                    \n                    &:after {\n                        width: 100%;\n                    }\n                }\n            }\n        }\n        }\n    }\n\n/* 响应式设计 */\n@media screen and (max-width: 500px) {\n    .register-panel {\n        width: 90%;\n        padding: 30px 25px;\n    }\n}\n\n@media screen and (max-width: 400px) {\n    .register-panel {\n        padding: 25px 20px;\n        \n        .register-header h2 {\n            font-size: 26px;\n        }\n        \n        .input-field {\n            height: 50px;\n            padding: 0 15px 0 50px;\n        }\n    }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}