{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, reactive, onMounted, getCurrentInstance } from 'vue';\nimport { Search, Warning, SuccessFilled, StarFilled } from '@element-plus/icons-vue';\nexport default {\n  components: {\n    Search,\n    Warning,\n    SuccessFilled,\n    StarFilled\n  },\n  setup() {\n    const {\n      proxy\n    } = getCurrentInstance();\n\n    // 响应式数据\n    const deadlineNum = ref(1);\n    const data = ref({});\n    const current = ref(1);\n    const cover = ref(null);\n    const size = ref(12);\n    const totalCount = ref(0);\n    const dialogOperation = ref(false); // 开关\n    const isOperation = ref(false); // 开关-标识新增或修改\n    const tableData = ref([]);\n    const selectedRows = ref([]);\n    const bookQueryDto = reactive({}); // 搜索条件\n    const options = ref([]);\n    const bookshelfOptions = ref([]);\n    const categoryItemSelected = ref(null);\n    const categoryList = ref([]);\n    const bookOrderHistorys = ref([]);\n    const categoryChoose = category => {\n      categoryItemSelected.value = category;\n      bookQueryDto.categoryId = category.id;\n      fetchFreshData();\n    };\n\n    // 订阅书籍\n    const rssBook = async book => {\n      const confirmed = await proxy.$swalConfirm({\n        title: '订阅这本书？',\n        text: `订阅后，上架时会接收通知`,\n        icon: 'info'\n      });\n      if (confirmed) {\n        try {\n          const bookSave = {\n            bookId: book.id\n          };\n          const response = await proxy.$axios.post(`/bookRssHistory/save`, bookSave);\n          proxy.$notify({\n            title: '订阅操作',\n            message: response.data.code === 200 ? '订阅成功' : response.data.msg,\n            type: response.data.code === 200 ? 'success' : 'warning'\n          });\n          fetchFreshData();\n        } catch (e) {\n          console.error(`订阅错误：`, e);\n        }\n      }\n    };\n\n    // 收藏书籍\n    const saveBook = async book => {\n      const confirmed = await proxy.$swalConfirm({\n        title: '收藏这本书？',\n        text: `收藏后方便后续操作`,\n        icon: 'info'\n      });\n      if (confirmed) {\n        try {\n          const bookSave = {\n            bookId: book.id\n          };\n          const response = await proxy.$axios.post(`/bookSave/save`, bookSave);\n          proxy.$notify({\n            title: '收藏操作',\n            message: response.data.code === 200 ? '收藏成功' : response.data.msg,\n            type: response.data.code === 200 ? 'success' : 'warning'\n          });\n          fetchFreshData();\n        } catch (e) {\n          console.error(`收藏错误：`, e);\n        }\n      }\n    };\n    const bookshelfConfig = item => {\n      return item.floor + \"-\" + item.area + \"-\" + item.frame;\n    };\n    const fetchBookshelf = () => {\n      proxy.$axios.post('bookshelf/query', {}).then(res => {\n        if (res.data.code === 200) {\n          bookshelfOptions.value = res.data.data;\n        }\n      });\n    };\n    const fetchCategory = () => {\n      proxy.$axios.post('category/query', {}).then(res => {\n        if (res.data.code === 200) {\n          options.value = res.data.data;\n          // 添加全部\n          options.value.unshift({\n            id: null,\n            name: '全部'\n          });\n          // 默认加载全部\n          categoryChoose(options.value[0]);\n        }\n      });\n    };\n    const resetQueryCondition = () => {\n      Object.keys(bookQueryDto).forEach(key => delete bookQueryDto[key]);\n      fetchFreshData();\n    };\n\n    // 查询用户的预约记录\n    const getBookOrderHistory = () => {\n      proxy.$axios.post('bookOrderHistory/queryUser', {}).then(res => {\n        if (res.data.code === 200) {\n          bookOrderHistorys.value = res.data.data;\n        }\n      });\n    };\n\n    // 信息新增\n    const addOperation = async () => {\n      try {\n        data.value.bookId = data.value.id;\n        data.value.deadlineNum = deadlineNum.value;\n        const response = await proxy.$axios.post('/bookOrderHistory/save', data.value);\n        if (response.data.code === 200) {\n          fetchFreshData();\n          data.value = {};\n          dialogOperation.value = false;\n          proxy.$notify({\n            title: '借书结果',\n            message: '借书成功，请及时归还',\n            type: 'success'\n          });\n          fetchFreshData();\n        } else {\n          proxy.$notify({\n            title: '借书结果',\n            message: response.data.msg,\n            type: 'error'\n          });\n        }\n      } catch (error) {\n        proxy.$notify({\n          title: '借书结果',\n          message: error,\n          type: 'error'\n        });\n      }\n    };\n    const closeDialog = () => {\n      dialogOperation.value = false;\n    };\n    const clearFormData = () => {\n      data.value = {};\n      cover.value = null;\n    };\n    const fetchFreshData = async () => {\n      try {\n        // 请求参数\n        const params = {\n          current: current.value,\n          size: size.value,\n          ...bookQueryDto\n        };\n        const response = await proxy.$axios.post('/book/query', params);\n        const {\n          data: responseData\n        } = response;\n        tableData.value = responseData.data;\n        totalCount.value = responseData.total;\n      } catch (error) {\n        console.error('查询书籍书籍信息异常:', error);\n      }\n    };\n    const add = () => {\n      dialogOperation.value = true;\n    };\n    const handleFilter = () => {\n      current.value = 1;\n      fetchFreshData();\n    };\n    const handleFilterClear = () => {\n      handleFilter();\n    };\n    const handleSizeChange = val => {\n      size.value = val;\n      current.value = 1;\n      fetchFreshData();\n    };\n    const handleCurrentChange = val => {\n      current.value = val;\n      fetchFreshData();\n    };\n    const messagePush = row => {\n      data.value = {\n        ...row\n      };\n    };\n    const handleEdit = row => {\n      dialogOperation.value = true;\n      data.value = {\n        ...row\n      };\n    };\n    const handleDelete = row => {\n      selectedRows.value.push(row);\n      // batchDelete() // 这个方法在原代码中没有定义\n    };\n\n    // 生命周期\n    onMounted(() => {\n      fetchFreshData();\n      fetchCategory();\n      fetchBookshelf();\n    });\n    return {\n      deadlineNum,\n      data,\n      current,\n      cover,\n      size,\n      totalCount,\n      dialogOperation,\n      isOperation,\n      tableData,\n      selectedRows,\n      bookQueryDto,\n      options,\n      bookshelfOptions,\n      categoryItemSelected,\n      categoryList,\n      bookOrderHistorys,\n      categoryChoose,\n      rssBook,\n      saveBook,\n      bookshelfConfig,\n      fetchBookshelf,\n      fetchCategory,\n      resetQueryCondition,\n      getBookOrderHistory,\n      addOperation,\n      closeDialog,\n      clearFormData,\n      fetchFreshData,\n      add,\n      handleFilter,\n      handleFilterClear,\n      handleSizeChange,\n      handleCurrentChange,\n      messagePush,\n      handleEdit,\n      handleDelete\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","getCurrentInstance","Search","Warning","SuccessFilled","StarFilled","components","setup","proxy","deadlineNum","data","current","cover","size","totalCount","dialogOperation","isOperation","tableData","selectedRows","bookQueryDto","options","bookshelfOptions","categoryItemSelected","categoryList","bookOrderHistorys","categoryChoose","category","value","categoryId","id","fetchFreshData","rssBook","book","confirmed","$swalConfirm","title","text","icon","bookSave","bookId","response","$axios","post","$notify","message","code","msg","type","e","console","error","saveBook","bookshelfConfig","item","floor","area","frame","fetchBookshelf","then","res","fetchCategory","unshift","name","resetQueryCondition","Object","keys","forEach","key","getBookOrderHistory","addOperation","closeDialog","clearFormData","params","responseData","total","add","handleFilter","handleFilterClear","handleSizeChange","val","handleCurrentChange","messagePush","row","handleEdit","handleDelete","push"],"sources":["E:\\code\\IntelliJ_IDEAProjects\\LibrarySystem\\libraryNetView\\src\\views\\user\\BookOperation.vue"],"sourcesContent":["<template>\n    <div class=\"book-operation-container\">\n        <!-- 条件搜索 -->\n        <div class=\"word-search\">\n            <div class=\"item\">\n                <el-icon><Search /></el-icon>\n                <input type=\"text\" placeholder=\"搜索书籍\" v-model=\"bookQueryDto.name\">\n                <span class=\"search-text\" @click=\"fetchFreshData\">搜索</span>\n            </div>\n        </div>\n        <div class=\"category-container\">\n            <span class=\"category\" \n                  :class=\"{'active-category': categoryItemSelected === categoryItem}\"\n                  @click=\"categoryChoose(categoryItem)\" \n                  v-for=\"(categoryItem, index) in options\" \n                  :key=\"index\">\n                {{ categoryItem.name }}\n            </span>\n        </div>\n        <div class=\"books-grid\">\n            <el-row v-if=\"tableData.length === 0\">\n                <el-empty description=\"暂无书籍\"></el-empty>\n            </el-row>\n            <el-row v-else>\n                <el-col v-for=\"(book, index) in tableData\" :key=\"index\" :xs=\"12\" :sm=\"8\" :md=\"6\" :lg=\"4\" :xl=\"4\">\n                    <div class=\"item-book\">\n                        <div class=\"book-cover\">\n                            <img :src=\"book.cover\" alt=\"\">\n                        </div>\n                        <div class=\"book-info\">\n                            <div class=\"book-title\">\n                                <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.name\" placement=\"bottom-end\">\n                                    <div class=\"title-text\">{{ book.name }}</div>\n                                </el-tooltip>\n                            </div>\n                            <div class=\"book-status\">\n                                <el-icon v-if=\"book.isPlanBuy\"><Warning /></el-icon>\n                                <el-icon v-else><SuccessFilled /></el-icon>\n                                    <el-tooltip v-if=\"book.isPlanBuy\" class=\"item\" effect=\"dark\"\n                                        content=\"计划上架的书籍，为预售书籍。用户可以订阅，书籍上架之后将做通知\" placement=\"bottom-end\">\n                                    <span class=\"status-text\">预售书籍</span>\n                                    </el-tooltip>\n                                    <span v-else>书籍已上架</span>\n                                    <span> - {{ book.categoryName }}</span>\n                                </div>\n                            <div class=\"book-publisher\">\n                                <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.publisher\" placement=\"bottom-end\">\n                                    <div class=\"info-text\">由【{{ book.publisher }}】出版</div>\n                                    </el-tooltip>\n                                </div>\n                            <div class=\"book-author\">\n                                <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.author\" placement=\"bottom-end\">\n                                    <div class=\"info-text\">\n                                        <span>作者：{{ book.author }}</span>\n                                            <span>库存{{ book.num }}本</span>\n                                        </div>\n                                    </el-tooltip>\n                                </div>\n                            <div class=\"book-actions\">\n                                    <span v-if=\"!book.isPlanBuy\">\n                                    <span class=\"edit-round status\" v-if=\"book.isSave\">已收藏</span>\n                                    <span v-else class=\"edit-round\" @click=\"saveBook(book)\">\n                                            <el-icon><StarFilled /></el-icon>\n                                            收藏\n                                        </span>\n                                    <span class=\"action-divider\"></span>\n                                    <span v-if=\"book.num === 0\" class=\"stock-out\">库存不足</span>\n                                            <span v-else>\n                                                <span v-if=\"book.isReturn === null\">\n                                            <span class=\"edit-round\" @click=\"handleEdit(book)\">借书</span>\n                                                </span>\n                                                <span v-else>\n                                                    <span v-if=\"!book.isReturn\" class=\"edit-round status\">待归还</span>\n                                            <span v-else class=\"edit-round\" @click=\"handleEdit(book)\">借书</span>\n                                            </span>\n                                        </span>\n                                    </span>\n                                    <span v-else>\n                                    <span class=\"edit-round status\" v-if=\"book.isRss\">已订阅</span>\n                                        <span v-else class=\"edit-round\" @click=\"rssBook(book)\">订阅</span>\n                                    </span>\n                            </div>\n                        </div>\n                    </div>\n                </el-col>\n            </el-row>\n        </div>\n        <div class=\"pager\">\n                <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\n                    v-model:current-page=\"current\" :page-size=\"size\" layout=\"total, prev, pager, next\"\n                    :total=\"totalCount\">\n                </el-pagination>\n        </div>\n        <el-dialog v-model=\"dialogOperation\" :show-close=\"false\" width=\"280px\" custom-class=\"borrow-dialog\">\n            <div class=\"dialog-content\">\n                <h3 class=\"dialog-title\">借阅书籍</h3>\n                <div class=\"form-container\">\n                    <div class=\"form-item\">\n                        <div class=\"point\">借书数量</div>\n                        <el-input-number class=\"custom-input\" size=\"small\" v-model=\"deadlineNum\" :min=\"1\" :max=\"10\"\n                            label=\"数量\" controls-position=\"right\"></el-input-number>\n                    </div>\n                    <div class=\"form-item\">\n                        <div class=\"point\">归还日期</div>\n                        <el-date-picker class=\"custom-input custom-date-picker\" size=\"small\" v-model=\"data.returnTime\" type=\"date\"\n                            placeholder=\"选择日期\">\n                        </el-date-picker>\n                    </div>\n                </div>\n            </div>\n            <div class=\"dialog-footer\">\n                <span style=\"display: inline-block; padding: 7px 18px; border-radius: 20px; cursor: pointer; font-size: 14px; margin: 0 8px; background-color: #f5f5f5; color: #606266; font-weight: 500; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border: none; transition: all 0.3s;\" \n                      onmouseover=\"this.style.backgroundColor='#e8e8e8'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)'\"\n                      onmouseout=\"this.style.backgroundColor='#f5f5f5'; this.style.transform=''; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'\"\n                      @click=\"dialogOperation = false\">取消</span>\n                <span style=\"display: inline-block; padding: 7px 18px; border-radius: 20px; cursor: pointer; font-size: 14px; margin: 0 8px; background-color: #ff5722; color: white; font-weight: 500; box-shadow: 0 2px 4px rgba(0,0,0,0.1); border: none; transition: all 0.3s;\"\n                      onmouseover=\"this.style.backgroundColor='#ff6e40'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.15)'\"\n                      onmouseout=\"this.style.backgroundColor='#ff5722'; this.style.transform=''; this.style.boxShadow='0 2px 4px rgba(0,0,0,0.1)'\"\n                      @click=\"addOperation()\">确定</span>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, getCurrentInstance } from 'vue'\nimport { Search, Warning, SuccessFilled, StarFilled } from '@element-plus/icons-vue'\n\nexport default {\n    components: {\n        Search,\n        Warning,\n        SuccessFilled,\n        StarFilled\n    },\n    setup() {\n        const { proxy } = getCurrentInstance()\n        \n        // 响应式数据\n        const deadlineNum = ref(1)\n        const data = ref({})\n        const current = ref(1)\n        const cover = ref(null)\n        const size = ref(12)\n        const totalCount = ref(0)\n        const dialogOperation = ref(false) // 开关\n        const isOperation = ref(false) // 开关-标识新增或修改\n        const tableData = ref([])\n        const selectedRows = ref([])\n        const bookQueryDto = reactive({}) // 搜索条件\n        const options = ref([])\n        const bookshelfOptions = ref([])\n        const categoryItemSelected = ref(null)\n        const categoryList = ref([])\n        const bookOrderHistorys = ref([])\n\n        const categoryChoose = (category) => {\n            categoryItemSelected.value = category\n            bookQueryDto.categoryId = category.id\n            fetchFreshData()\n        }\n\n        // 订阅书籍\n        const rssBook = async (book) => {\n            const confirmed = await proxy.$swalConfirm({\n                title: '订阅这本书？',\n                text: `订阅后，上架时会接收通知`,\n                icon: 'info',\n            })\n            if (confirmed) {\n                try {\n                    const bookSave = { bookId: book.id }\n                    const response = await proxy.$axios.post(`/bookRssHistory/save`, bookSave)\n                    proxy.$notify({\n                        title: '订阅操作',\n                        message: response.data.code === 200 ? '订阅成功' : response.data.msg,\n                        type: response.data.code === 200 ? 'success' : 'warning'\n                    })\n                    fetchFreshData()\n                } catch (e) {\n                    console.error(`订阅错误：`, e)\n                }\n            }\n        }\n\n        // 收藏书籍\n        const saveBook = async (book) => {\n            const confirmed = await proxy.$swalConfirm({\n                title: '收藏这本书？',\n                text: `收藏后方便后续操作`,\n                icon: 'info',\n            })\n            if (confirmed) {\n                try {\n                    const bookSave = { bookId: book.id }\n                    const response = await proxy.$axios.post(`/bookSave/save`, bookSave)\n                    proxy.$notify({\n                        title: '收藏操作',\n                        message: response.data.code === 200 ? '收藏成功' : response.data.msg,\n                        type: response.data.code === 200 ? 'success' : 'warning'\n                    })\n                    fetchFreshData()\n                } catch (e) {\n                    console.error(`收藏错误：`, e)\n                }\n            }\n        }\n\n        const bookshelfConfig = (item) => {\n            return item.floor + \"-\" + item.area + \"-\" + item.frame\n        }\n\n        const fetchBookshelf = () => {\n            proxy.$axios.post('bookshelf/query', {}).then(res => {\n                if (res.data.code === 200) {\n                    bookshelfOptions.value = res.data.data\n                }\n            })\n        }\n\n        const fetchCategory = () => {\n            proxy.$axios.post('category/query', {}).then(res => {\n                if (res.data.code === 200) {\n                    options.value = res.data.data\n                    // 添加全部\n                    options.value.unshift({ id: null, name: '全部' })\n                    // 默认加载全部\n                    categoryChoose(options.value[0])\n                }\n            })\n        }\n\n        const resetQueryCondition = () => {\n            Object.keys(bookQueryDto).forEach(key => delete bookQueryDto[key])\n            fetchFreshData()\n        }\n\n        // 查询用户的预约记录\n        const getBookOrderHistory = () => {\n            proxy.$axios.post('bookOrderHistory/queryUser', {}).then(res => {\n                if (res.data.code === 200) {\n                    bookOrderHistorys.value = res.data.data\n                }\n            })\n        }\n\n        // 信息新增\n        const addOperation = async () => {\n            try {\n                data.value.bookId = data.value.id\n                data.value.deadlineNum = deadlineNum.value\n                const response = await proxy.$axios.post('/bookOrderHistory/save', data.value)\n                if (response.data.code === 200) {\n                    fetchFreshData()\n                    data.value = {}\n                    dialogOperation.value = false\n                    proxy.$notify({\n                        title: '借书结果',\n                        message: '借书成功，请及时归还',\n                        type: 'success'\n                    })\n                    fetchFreshData()\n                } else {\n                    proxy.$notify({\n                        title: '借书结果',\n                        message: response.data.msg,\n                        type: 'error'\n                    })\n                }\n            } catch (error) {\n                proxy.$notify({\n                    title: '借书结果',\n                    message: error,\n                    type: 'error'\n                })\n            }\n        }\n\n        const closeDialog = () => {\n            dialogOperation.value = false\n        }\n\n        const clearFormData = () => {\n            data.value = {}\n            cover.value = null\n        }\n\n        const fetchFreshData = async () => {\n            try {\n                // 请求参数\n                const params = {\n                    current: current.value,\n                    size: size.value,\n                    ...bookQueryDto\n                }\n                const response = await proxy.$axios.post('/book/query', params)\n                const { data: responseData } = response\n                tableData.value = responseData.data\n                totalCount.value = responseData.total\n            } catch (error) {\n                console.error('查询书籍书籍信息异常:', error)\n            }\n        }\n\n        const add = () => {\n            dialogOperation.value = true\n        }\n\n        const handleFilter = () => {\n            current.value = 1\n            fetchFreshData()\n        }\n\n        const handleFilterClear = () => {\n            handleFilter()\n        }\n\n        const handleSizeChange = (val) => {\n            size.value = val\n            current.value = 1\n            fetchFreshData()\n        }\n\n        const handleCurrentChange = (val) => {\n            current.value = val\n            fetchFreshData()\n        }\n\n        const messagePush = (row) => {\n            data.value = { ...row }\n        }\n\n        const handleEdit = (row) => {\n            dialogOperation.value = true\n            data.value = { ...row }\n        }\n\n        const handleDelete = (row) => {\n            selectedRows.value.push(row)\n            // batchDelete() // 这个方法在原代码中没有定义\n        }\n\n        // 生命周期\n        onMounted(() => {\n            fetchFreshData()\n            fetchCategory()\n            fetchBookshelf()\n        })\n\n        return {\n            deadlineNum,\n            data,\n            current,\n            cover,\n            size,\n            totalCount,\n            dialogOperation,\n            isOperation,\n            tableData,\n            selectedRows,\n            bookQueryDto,\n            options,\n            bookshelfOptions,\n            categoryItemSelected,\n            categoryList,\n            bookOrderHistorys,\n            categoryChoose,\n            rssBook,\n            saveBook,\n            bookshelfConfig,\n            fetchBookshelf,\n            fetchCategory,\n            resetQueryCondition,\n            getBookOrderHistory,\n            addOperation,\n            closeDialog,\n            clearFormData,\n            fetchFreshData,\n            add,\n            handleFilter,\n            handleFilterClear,\n            handleSizeChange,\n            handleCurrentChange,\n            messagePush,\n            handleEdit,\n            handleDelete\n        }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n.book-operation-container {\n    padding: 10px;\n    border-radius: 16px;\n    background-color: transparent;\n    backdrop-filter: none;\n    box-shadow: none;\n}\n\n.word-search {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 20px;\n\n    .item {\n        padding: 10px 20px;\n        width: 500px;\n        background-color: rgba(255, 255, 255, 0.8);\n        backdrop-filter: blur(10px);\n        border-radius: 40px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        box-sizing: border-box;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.06);\n        border: 1px solid rgba(255, 255, 255, 0.3);\n        transition: all 0.3s ease;\n\n        &:hover, &:focus-within {\n            box-shadow: 0 6px 16px rgba(255, 87, 34, 0.12);\n            border-color: rgba(255, 87, 34, 0.2);\n        }\n\n        input {\n            flex: 1;\n            border: none;\n            background-color: transparent;\n            outline: none;\n            font-size: 16px;\n            color: #333;\n            margin: 0 15px;\n            height: 24px;\n        }\n\n        i {\n            font-size: 18px;\n            color: #ff5722;\n        }\n\n        .search-text {\n            display: inline-block;\n            padding: 6px 16px;\n            border-radius: 20px;\n            background-color: #ff5722;\n            color: white;\n            font-size: 14px;\n            cursor: pointer;\n            transition: all 0.3s ease;\n            text-align: center;\n            \n            &:hover {\n                background-color: #f4511e;\n                transform: translateY(-1px);\n            }\n        }\n    }\n}\n\n.category-container {\n    max-width: 1200px;\n    margin: 0 auto 20px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 8px;\n}\n\n.category {\n    font-size: 15px;\n    color: #666;\n    cursor: pointer;\n    display: inline-block;\n    transition: all 0.3s ease;\n    padding: 6px 14px;\n    border-radius: 20px;\n    background-color: rgba(255, 255, 255, 0.7);\n    backdrop-filter: blur(5px);\n    box-shadow: 0 2px 6px rgba(0,0,0,0.04);\n}\n\n.category:hover {\n    color: #ff5722;\n    background-color: rgba(255, 255, 255, 0.9);\n    transform: translateY(-2px);\n}\n\n.active-category {\n    color: white;\n    background-color: #ff5722;\n    font-weight: 600;\n}\n\n.active-category:hover {\n    color: white;\n    background-color: #ff5722;\n}\n\n.books-grid {\n    max-width: 1200px;\n    margin: 0 auto;\n}\n\n.item-book {\n    border-radius: 16px;\n    margin: 10px;\n    background-color: rgba(255, 255, 255, 0.8);\n    backdrop-filter: blur(8px);\n    box-shadow: 0 2px 10px rgba(0,0,0,0.05);\n    overflow: hidden;\n    transition: all 0.3s ease;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.item-book:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 5px 15px rgba(0,0,0,0.08);\n    background-color: rgba(255, 255, 255, 0.95);\n}\n\n.book-cover {\n    display: flex;\n    justify-content: center;\n    padding: 15px;\n    \n    img {\n        width: 140px;\n        height: 140px;\n        object-fit: cover;\n        border-radius: 16px;\n        box-shadow: 0 3px 10px rgba(0,0,0,0.1);\n    }\n}\n\n.book-info {\n    padding: 15px;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    flex: 1;\n}\n\n.book-title {\n    .title-text {\n        font-size: 16px;\n        font-weight: 700;\n        color: #333;\n        margin-bottom: 5px;\n        width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n    }\n}\n\n.book-status {\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n    gap: 5px;\n    \n    i.el-icon-warning {\n        color: #E6A23C;\n    }\n    \n    i.el-icon-success {\n        color: #67C23A;\n    }\n    \n    .status-text {\n        text-decoration: underline;\n        text-decoration-style: dashed;\n    }\n}\n\n.book-publisher, .book-author {\n    font-size: 13px;\n    color: #666;\n    \n    .info-text {\n        width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        display: flex;\n        justify-content: space-between;\n    }\n}\n\n.book-actions {\n    margin-top: 10px;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n}\n\n.edit-round {\n    background-color: rgba(255, 255, 255, 0.7);\n    border: 1px solid rgba(220, 223, 230, 0.5);\n    padding: 6px 12px;\n    border-radius: 16px;\n    font-size: 12px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    color: #333;\n    display: inline-flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.edit-round.status {\n    color: #ff5722;\n    border-color: rgba(255, 87, 34, 0.2);\n    background-color: rgba(255, 87, 34, 0.05);\n    cursor: default;\n}\n\n.edit-round:hover {\n    color: #ff5722;\n    border-color: rgba(255, 87, 34, 0.3);\n    background-color: rgba(255, 87, 34, 0.08);\n}\n\n.action-divider {\n    display: inline-block;\n    width: 5px;\n}\n\n.stock-out {\n    color: #F56C6C;\n    font-size: 12px;\n}\n\n.pager {\n    display: flex;\n    margin: 30px 0;\n    justify-content: center;\n}\n\n.point {\n    font-size: 14px;\n    color: #333;\n    margin-bottom: 8px;\n    font-weight: 500;\n}\n\n/* 对话框样式 */\n.borrow-dialog {\n:deep(.el-dialog) {\n    border-radius: 16px;\n    overflow: hidden;\n        background-color: rgba(255, 255, 255, 0.95);\n        backdrop-filter: blur(10px);\n        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);\n    }\n}\n\n.dialog-content {\n    padding: 20px 15px 10px;\n}\n\n.dialog-title {\n    font-size: 16px;\n    font-weight: 600;\n    color: #333;\n    text-align: center;\n    margin: 0 0 15px;\n    padding-bottom: 8px;\n    border-bottom: 1px dashed rgba(238, 238, 238, 0.5);\n}\n\n.form-container {\n    margin-bottom: 10px;\n}\n\n.form-item {\n    margin-bottom: 15px;\n}\n\n.custom-input {\n    width: 100%;\n}\n\n/* 修改分页组件样式 */\n:deep(.el-pagination) {\n    padding: 15px 0;\n    text-align: center;\n}\n\n:deep(.el-pagination .btn-prev),\n:deep(.el-pagination .btn-next),\n:deep(.el-pager li) {\n    border-radius: 8px;\n    transition: all 0.3s ease;\n    background-color: rgba(255, 255, 255, 0.7);\n}\n\n:deep(.el-pager li.active) {\n    background-color: #ff5722;\n    color: white;\n}\n\n/* 日期选择器样式 */\n:deep(.custom-date-picker .el-input__inner) {\n    border-radius: 8px;\n    border: 1px solid rgba(224, 224, 224, 0.7);\n    padding-left: 12px;\n    background-color: rgba(255, 255, 255, 0.7);\n}\n\n:deep(.el-input-number) {\n    width: 100%;\n}\n\n.dialog-footer {\n    display: flex;\n    justify-content: center;\n    padding: 12px 0;\n    border-top: 1px solid rgba(240, 240, 240, 0.5);\n    background-color: rgba(250, 250, 250, 0.5);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}