{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, reactive, onMounted, nextTick, getCurrentInstance } from 'vue';\nexport default {\n  setup() {\n    const {\n      proxy\n    } = getCurrentInstance();\n\n    // 响应式数据\n    const data = reactive({\n      num: 1\n    });\n    const currentPage = ref(1);\n    const cover = ref(null);\n    const pageSize = ref(10);\n    const totalItems = ref(0);\n    const dialogOperation = ref(false); // 开关\n    const isOperation = ref(false); // 开关-标识新增或修改\n    const tableData = ref([]);\n    const delectedRows = ref([]);\n    const bookQueryDto = reactive({}); // 搜索条件\n    const options = ref([]);\n    const bookshelfOptions = ref([]);\n    const searchTime = ref([]);\n\n    // 方法定义\n    const cannel = () => {\n      dialogOperation.value = false;\n      isOperation.value = false;\n      cover.value = '';\n      Object.keys(data).forEach(key => {\n        if (key !== 'num') {\n          delete data[key];\n        }\n      });\n      data.num = 1;\n      // 清理多余的遮罩层\n      nextTick(() => {\n        const modals = document.querySelectorAll('.v-modal');\n        if (modals.length > 1) {\n          for (let i = 1; i < modals.length; i++) {\n            modals[i].parentNode.removeChild(modals[i]);\n          }\n        }\n      });\n    };\n    const bookshelfConfig = item => {\n      return item.floor + \"-\" + item.area + \"-\" + item.frame;\n    };\n    const handleBookCoverSuccess = (res, file) => {\n      if (res.code !== 200) {\n        proxy.$message.error(`书籍封面上传异常`);\n        return;\n      }\n      proxy.$message.success(`书籍封面上传成功`);\n      cover.value = res.data;\n    };\n    const fetchBookshelf = () => {\n      proxy.$axios.post('bookshelf/query', {}).then(res => {\n        if (res.data.code === 200) {\n          bookshelfOptions.value = res.data.data;\n        }\n      });\n    };\n    const fetchCategory = () => {\n      proxy.$axios.post('category/query', {}).then(res => {\n        if (res.data.code === 200) {\n          options.value = res.data.data;\n        }\n      });\n    };\n\n    // 多选框选中\n    const handleSelectionChange = selection => {\n      delectedRows.value = selection;\n    };\n\n    // 批量删除数据\n    const batchDelete = async () => {\n      if (!delectedRows.value.length) {\n        proxy.$message(`未选中任何数据`);\n        return;\n      }\n      const confirmed = await proxy.$swalConfirm({\n        title: '删除书籍书籍数据',\n        text: `删除后不可恢复，是否继续？`,\n        icon: 'warning'\n      });\n      if (confirmed) {\n        try {\n          let ids = delectedRows.value.map(entity => entity.id);\n          const response = await proxy.$axios.post(`/book/batchDelete`, ids);\n          if (response.data.code === 200) {\n            proxy.$swal.fire({\n              title: '删除提示',\n              text: response.data.msg,\n              icon: 'success',\n              showConfirmButton: false,\n              timer: 2000\n            });\n            fetchFreshData();\n            return;\n          }\n        } catch (e) {\n          proxy.$swal.fire({\n            title: '错误提示',\n            text: e,\n            icon: 'error',\n            showConfirmButton: false,\n            timer: 2000\n          });\n          console.error(`书籍书籍信息删除异常：`, e);\n        }\n      }\n    };\n    const resetQueryCondition = () => {\n      Object.keys(bookQueryDto).forEach(key => {\n        delete bookQueryDto[key];\n      });\n      fetchFreshData();\n    };\n\n    // 修改信息\n    const updateOperation = async () => {\n      try {\n        data.cover = cover.value;\n        const response = await proxy.$axios.put('/book/update', data);\n        proxy.$swal.fire({\n          title: '书籍书籍信息修改',\n          text: response.data.msg,\n          icon: response.data.code === 200 ? 'success' : 'error',\n          showConfirmButton: false,\n          timer: 1000\n        });\n        if (response.data.code === 200) {\n          closeDialog();\n          fetchFreshData();\n          clearFormData();\n        }\n      } catch (error) {\n        console.error('提交表单时出错:', error);\n        proxy.$message.error('提交失败，请稍后再试！');\n      }\n    };\n\n    // 信息新增\n    const addOperation = async () => {\n      try {\n        data.cover = cover.value;\n        const response = await proxy.$axios.post('/book/save', data);\n        proxy.$message[response.data.code === 200 ? 'success' : 'error'](response.data.msg);\n        if (response.data.code === 200) {\n          closeDialog();\n          fetchFreshData();\n          clearFormData();\n        }\n      } catch (error) {\n        console.error('提交表单时出错:', error);\n        proxy.$message.error('提交失败，请稍后再试！');\n      }\n    };\n    const closeDialog = () => {\n      dialogOperation.value = false;\n    };\n    const clearFormData = () => {\n      Object.keys(data).forEach(key => {\n        if (key !== 'num') {\n          delete data[key];\n        }\n      });\n      data.num = 1;\n      cover.value = null;\n    };\n    const fetchFreshData = async () => {\n      try {\n        tableData.value = [];\n        let startTime = null;\n        let endTime = null;\n        if (searchTime.value != null && searchTime.value.length === 2) {\n          const [startDate, endDate] = await Promise.all(searchTime.value.map(date => date.toISOString()));\n          startTime = `${startDate.split('T')[0]}T00:00:00`;\n          endTime = `${endDate.split('T')[0]}T23:59:59`;\n        }\n        // 请求参数\n        const params = {\n          current: currentPage.value,\n          size: pageSize.value,\n          startTime: startTime,\n          endTime: endTime,\n          ...bookQueryDto\n        };\n        const response = await proxy.$axios.post('/book/query', params);\n        const {\n          data: responseData\n        } = response;\n        tableData.value = responseData.data;\n        totalItems.value = responseData.total;\n      } catch (error) {\n        console.error('查询书籍书籍信息异常:', error);\n      }\n    };\n    const add = () => {\n      dialogOperation.value = true;\n    };\n    const handleFilter = () => {\n      currentPage.value = 1;\n      fetchFreshData();\n    };\n    const handleFilterClear = () => {\n      handleFilter();\n    };\n    const handleSizeChange = val => {\n      pageSize.value = val;\n      currentPage.value = 1;\n      fetchFreshData();\n    };\n    const handleCurrentChange = val => {\n      currentPage.value = val;\n      fetchFreshData();\n    };\n    const messagePush = row => {\n      Object.assign(data, {\n        ...row\n      });\n    };\n    const handleEdit = row => {\n      dialogOperation.value = true;\n      isOperation.value = true;\n      Object.assign(data, {\n        ...row\n      });\n      cover.value = row.cover;\n    };\n    const handleDelete = row => {\n      delectedRows.value.push(row);\n      batchDelete();\n    };\n\n    // 生命周期\n    onMounted(() => {\n      fetchFreshData();\n      fetchCategory();\n      fetchBookshelf();\n    });\n    return {\n      data,\n      currentPage,\n      cover,\n      pageSize,\n      totalItems,\n      dialogOperation,\n      isOperation,\n      tableData,\n      delectedRows,\n      bookQueryDto,\n      options,\n      bookshelfOptions,\n      searchTime,\n      cannel,\n      bookshelfConfig,\n      handleBookCoverSuccess,\n      fetchBookshelf,\n      fetchCategory,\n      handleSelectionChange,\n      batchDelete,\n      resetQueryCondition,\n      updateOperation,\n      addOperation,\n      closeDialog,\n      clearFormData,\n      fetchFreshData,\n      add,\n      handleFilter,\n      handleFilterClear,\n      handleSizeChange,\n      handleCurrentChange,\n      messagePush,\n      handleEdit,\n      handleDelete\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","nextTick","getCurrentInstance","setup","proxy","data","num","currentPage","cover","pageSize","totalItems","dialogOperation","isOperation","tableData","delectedRows","bookQueryDto","options","bookshelfOptions","searchTime","cannel","value","Object","keys","forEach","key","modals","document","querySelectorAll","length","i","parentNode","removeChild","bookshelfConfig","item","floor","area","frame","handleBookCoverSuccess","res","file","code","$message","error","success","fetchBookshelf","$axios","post","then","fetchCategory","handleSelectionChange","selection","batchDelete","confirmed","$swalConfirm","title","text","icon","ids","map","entity","id","response","$swal","fire","msg","showConfirmButton","timer","fetchFreshData","e","console","resetQueryCondition","updateOperation","put","closeDialog","clearFormData","addOperation","startTime","endTime","startDate","endDate","Promise","all","date","toISOString","split","params","current","size","responseData","total","add","handleFilter","handleFilterClear","handleSizeChange","val","handleCurrentChange","messagePush","row","assign","handleEdit","handleDelete","push"],"sources":["E:\\code\\IntelliJ_IDEAProjects\\LibrarySystem\\libraryNetView\\src\\views\\admin\\BookManage.vue"],"sourcesContent":["<template>\n    <el-row class=\"book-manage-container\">\n        <el-row style=\"padding: 10px 16px;margin: 0;\">\n            <el-row class=\"search-bar-container\">\n                <el-date-picker style=\"width: 216px;margin-right: 10px;\" @change=\"fetchFreshData\" size=\"small\"\n                    v-model=\"searchTime\" type=\"daterange\" range-separator=\"-\" start-placeholder=\"创建开始\"\n                    end-placeholder=\"创建结束\">\n                </el-date-picker>\n                <el-input size=\"small\" style=\"width: 166px; margin-right: 5px;\" v-model=\"bookQueryDto.name\" placeholder=\"书名\" clearable\n                    @clear=\"handleFilterClear\">\n                </el-input>\n                <el-button size=\"small\" @click=\"handleFilter\">\n                    <el-icon>\n                        <Search />\n                    </el-icon>\n                </el-button>\n                <span class=\"new-book-btn\" @click=\"add()\">\n                    <el-icon>\n                        <Plus />\n                    </el-icon>\n                    新增书籍\n                </span>\n            </el-row>\n        </el-row>\n        <el-row style=\"margin: 8px 12px;\">\n            <div class=\"book-grid\">\n                <div v-for=\"(book, index) in tableData\" :key=\"index\" class=\"book-col\">\n                    <div class=\"item-book\">\n                        <div style=\"display: flex;flex-direction: column;align-items: center;\">\n                            <img style=\"width: 120px;max-height: 140px;border-radius: 8px;box-shadow: 0 4px 12px rgba(0,0,0,0.1);\" :src=\"book.cover\" alt=\"\">\n                        \n                            <div style=\"width: 100%; padding: 10px 0;\">\n                                <div style=\"color: rgb(51,51,51);font-size: 16px;font-weight: bold;margin-bottom: 10px; text-align: center;\">\n                                <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.name\" placement=\"top\">\n                                    <div class=\"title\" style=\"margin: 0 auto;\">{{ book.name }}</div>\n                                </el-tooltip>\n                            </div>\n                                <div style=\"font-size: 12px;color: rgb(51,51,51);margin-bottom: 8px; text-align: left; padding-left: 12px;\">\n                                    <div class=\"title\" style=\"margin: 0 0 5px 0;\">\n                                    <el-icon v-if=\"book.isPlanBuy\" style=\"margin-right: 5px;color: #E6A23C;\">\n                                        <Warning />\n                                    </el-icon>\n                                    <el-icon v-else style=\"margin-right: 5px;color: #67C23A;\">\n                                        <SuccessFilled />\n                                    </el-icon>\n                                    <el-tooltip v-if=\"book.isPlanBuy\" class=\"item\" effect=\"dark\"\n                                        content=\"计划上架的书籍，为预售书籍。用户可以订阅，书籍上架之后将做通知\" placement=\"top\">\n                                            <span style=\"text-decoration: underline;text-decoration-style: dashed;\">预售书籍</span>\n                                    </el-tooltip>\n                                    <span v-else>书籍已上架</span>\n                                    <span> - {{ book.categoryName }}</span>\n                                </div>\n                                <div style=\"font-size: 12px; margin-bottom: 4px;\">\n                                        <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.publisher\" placement=\"top\">\n                                            <div class=\"title\" style=\"margin: 0;\">由【{{ book.publisher }}】出版</div>\n                                    </el-tooltip>\n                                </div>\n                                <div style=\"margin-bottom: 8px;\">\n                                        <el-tooltip class=\"item\" effect=\"dark\" :content=\"book.author\" placement=\"top\">\n                                            <div class=\"title\" style=\"margin: 0;\">\n                                            <span style=\"margin-right: 4px;\">作者：{{ book.author }}</span>\n                                            <span>【库存{{ book.num }}本】</span>\n                                        </div>\n                                    </el-tooltip>\n                                </div>\n                                </div>\n                                <div class=\"book-actions\" style=\"padding-left: 12px; justify-content: flex-start;\">\n                                    <button @click=\"handleEdit(book)\" class=\"book-btn edit-btn\">修改</button>\n                                    <button @click=\"handleDelete(book)\" class=\"book-btn delete-btn\">删除</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <el-pagination style=\"margin: 20px 0;float: right;\" @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[10, 20]\"\n                :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"totalItems\"></el-pagination>\n        </el-row>\n        <el-dialog :show-close=\"false\" v-model=\"dialogOperation\" width=\"600px\" :top=\"'8vh'\" custom-class=\"book-dialog\">\n            <div class=\"dialog-header\">\n                <h3 class=\"dialog-title\">{{ !isOperation ? '新增书籍' : '修改书籍' }}</h3>\n            </div>\n            <div class=\"dialog-content\">\n                <el-row :gutter=\"20\">\n                    <el-col :span=\"9\">\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Picture /></el-icon> \n                                书籍封面\n                            </label>\n                            <el-upload class=\"book-cover-uploader\" action=\"/api/library-system-api/v1.0/file/upload\"\n                                :show-file-list=\"false\" :on-success=\"handleBookCoverSuccess\">\n                                <img v-if=\"cover\" :src=\"cover\" class=\"book-cover-image\">\n                                <div v-else class=\"book-cover-placeholder\">\n                                    <el-icon><Plus /></el-icon>\n                                </div>\n                            </el-upload>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Grid /></el-icon> \n                                书架位置 <span class=\"required\">*</span>\n                            </label>\n                            <el-select v-model=\"data.bookShelfId\" placeholder=\"请选择\" size=\"small\" style=\"width: 100%;\">\n                                <el-option v-for=\"(item, index) in bookshelfOptions\" :key=\"index\"\n                                    :label=\"bookshelfConfig(item)\" :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><CollectionTag /></el-icon> \n                                书籍类别 <span class=\"required\">*</span>\n                            </label>\n                            <el-select v-model=\"data.categoryId\" placeholder=\"请选择\" size=\"small\" style=\"width: 100%;\">\n                                <el-option v-for=\"(item, index) in options\" :key=\"index\" :label=\"item.name\"\n                                    :value=\"item.id\">\n                                </el-option>\n                            </el-select>\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Goods /></el-icon> \n                                馆藏数目\n                            </label>\n                            <el-input-number size=\"small\" v-model=\"data.num\" :min=\"1\" :max=\"100\"\n                                style=\"width: 100%;\"></el-input-number>\n                        </div>\n                    </el-col>\n                    <el-col :span=\"15\">\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Reading /></el-icon> \n                                书籍名称\n                            </label>\n                            <input class=\"dialog-input\" v-model=\"data.name\" placeholder=\"请输入书籍名称\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><OfficeBuilding /></el-icon> \n                                出版社\n                            </label>\n                            <input class=\"dialog-input\" v-model=\"data.publisher\" placeholder=\"请输入出版社\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><User /></el-icon> \n                                作者\n                            </label>\n                            <input class=\"dialog-input\" v-model=\"data.author\" placeholder=\"请输入作者\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Document /></el-icon> \n                                国际标准书号(ISBN)\n                            </label>\n                            <input class=\"dialog-input\" v-model=\"data.isbn\" placeholder=\"请输入ISBN\" />\n                        </div>\n                        <div class=\"form-group\">\n                            <label class=\"form-label\">\n                                <el-icon><Notebook /></el-icon> \n                                书籍简介\n                            </label>\n                            <el-input type=\"textarea\" :autosize=\"{ minRows: 3, maxRows: 3 }\" placeholder=\"请输入书籍简介\"\n                                v-model=\"data.detail\" size=\"small\">\n                            </el-input>\n                        </div>\n                        <div class=\"form-group\" v-if=\"!isOperation || data.isPlanBuy\">\n                            <label class=\"form-label\">\n                                <el-icon><Clock /></el-icon> \n                                预售设置 <span class=\"required\">*</span>\n                            </label>\n                            <div class=\"presale-group\">\n                                <el-switch v-model=\"data.isPlanBuy\" active-color=\"#13ce66\"\n                                    inactive-color=\"#dcdfe6\">\n                                </el-switch>\n                                <span class=\"switch-label\">{{ data.isPlanBuy ? '预售书籍' : '立即上架' }}</span>\n                                <el-date-picker v-if=\"data.isPlanBuy\" v-model=\"data.planBuyTime\" type=\"date\" \n                                    placeholder=\"计划上架时间\" size=\"small\" style=\"width: 140px; margin-left: 10px;\">\n                                </el-date-picker>\n                            </div>\n                        </div>\n                    </el-col>\n                </el-row>\n            </div>\n            <div class=\"dialog-footer\">\n                <el-button class=\"cancel-btn\" size=\"small\" @click=\"cannel()\">取消操作</el-button>\n                <el-button v-if=\"!isOperation\" class=\"confirm-btn\" type=\"primary\" size=\"small\" @click=\"addOperation()\">确定新增</el-button>\n                <el-button v-else class=\"confirm-btn\" type=\"primary\" size=\"small\" @click=\"updateOperation()\">确定修改</el-button>\n            </div>\n        </el-dialog>\n    </el-row>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, nextTick, getCurrentInstance } from 'vue'\n\nexport default {\n    setup() {\n        const { proxy } = getCurrentInstance()\n        \n        // 响应式数据\n        const data = reactive({ num: 1 })\n        const currentPage = ref(1)\n        const cover = ref(null)\n        const pageSize = ref(10)\n        const totalItems = ref(0)\n        const dialogOperation = ref(false) // 开关\n        const isOperation = ref(false) // 开关-标识新增或修改\n        const tableData = ref([])\n        const delectedRows = ref([])\n        const bookQueryDto = reactive({}) // 搜索条件\n        const options = ref([])\n        const bookshelfOptions = ref([])\n        const searchTime = ref([])\n\n        // 方法定义\n        const cannel = () => {\n            dialogOperation.value = false\n            isOperation.value = false\n            cover.value = ''\n            Object.keys(data).forEach(key => {\n                if (key !== 'num') {\n                    delete data[key]\n                }\n            })\n            data.num = 1\n            // 清理多余的遮罩层\n            nextTick(() => {\n                const modals = document.querySelectorAll('.v-modal')\n                if (modals.length > 1) {\n                    for (let i = 1; i < modals.length; i++) {\n                        modals[i].parentNode.removeChild(modals[i])\n                    }\n                }\n            })\n        }\n\n        const bookshelfConfig = (item) => {\n            return item.floor + \"-\" + item.area + \"-\" + item.frame\n        }\n\n        const handleBookCoverSuccess = (res, file) => {\n            if (res.code !== 200) {\n                proxy.$message.error(`书籍封面上传异常`)\n                return\n            }\n            proxy.$message.success(`书籍封面上传成功`)\n            cover.value = res.data\n        }\n\n        const fetchBookshelf = () => {\n            proxy.$axios.post('bookshelf/query', {}).then(res => {\n                if (res.data.code === 200) {\n                    bookshelfOptions.value = res.data.data\n                }\n            })\n        }\n\n        const fetchCategory = () => {\n            proxy.$axios.post('category/query', {}).then(res => {\n                if (res.data.code === 200) {\n                    options.value = res.data.data\n                }\n            })\n        }\n\n        // 多选框选中\n        const handleSelectionChange = (selection) => {\n            delectedRows.value = selection\n        }\n\n        // 批量删除数据\n        const batchDelete = async () => {\n            if (!delectedRows.value.length) {\n                proxy.$message(`未选中任何数据`)\n                return\n            }\n            const confirmed = await proxy.$swalConfirm({\n                title: '删除书籍书籍数据',\n                text: `删除后不可恢复，是否继续？`,\n                icon: 'warning',\n            })\n            if (confirmed) {\n                try {\n                    let ids = delectedRows.value.map(entity => entity.id)\n                    const response = await proxy.$axios.post(`/book/batchDelete`, ids)\n                    if (response.data.code === 200) {\n                        proxy.$swal.fire({\n                            title: '删除提示',\n                            text: response.data.msg,\n                            icon: 'success',\n                            showConfirmButton: false,\n                            timer: 2000,\n                        })\n                        fetchFreshData()\n                        return\n                    }\n                } catch (e) {\n                    proxy.$swal.fire({\n                        title: '错误提示',\n                        text: e,\n                        icon: 'error',\n                        showConfirmButton: false,\n                        timer: 2000,\n                    })\n                    console.error(`书籍书籍信息删除异常：`, e)\n                }\n            }\n        }\n\n        const resetQueryCondition = () => {\n            Object.keys(bookQueryDto).forEach(key => {\n                delete bookQueryDto[key]\n            })\n            fetchFreshData()\n        }\n\n        // 修改信息\n        const updateOperation = async () => {\n            try {\n                data.cover = cover.value\n                const response = await proxy.$axios.put('/book/update', data)\n                proxy.$swal.fire({\n                    title: '书籍书籍信息修改',\n                    text: response.data.msg,\n                    icon: response.data.code === 200 ? 'success' : 'error',\n                    showConfirmButton: false,\n                    timer: 1000,\n                })\n                if (response.data.code === 200) {\n                    closeDialog()\n                    fetchFreshData()\n                    clearFormData()\n                }\n            } catch (error) {\n                console.error('提交表单时出错:', error)\n                proxy.$message.error('提交失败，请稍后再试！')\n            }\n        }\n\n        // 信息新增\n        const addOperation = async () => {\n            try {\n                data.cover = cover.value\n                const response = await proxy.$axios.post('/book/save', data)\n                proxy.$message[response.data.code === 200 ? 'success' : 'error'](response.data.msg)\n                if (response.data.code === 200) {\n                    closeDialog()\n                    fetchFreshData()\n                    clearFormData()\n                }\n            } catch (error) {\n                console.error('提交表单时出错:', error)\n                proxy.$message.error('提交失败，请稍后再试！')\n            }\n        }\n\n        const closeDialog = () => {\n            dialogOperation.value = false\n        }\n\n        const clearFormData = () => {\n            Object.keys(data).forEach(key => {\n                if (key !== 'num') {\n                    delete data[key]\n                }\n            })\n            data.num = 1\n            cover.value = null\n        }\n\n        const fetchFreshData = async () => {\n            try {\n                tableData.value = []\n                let startTime = null\n                let endTime = null\n                if (searchTime.value != null && searchTime.value.length === 2) {\n                    const [startDate, endDate] = await Promise.all(searchTime.value.map(date => date.toISOString()))\n                    startTime = `${startDate.split('T')[0]}T00:00:00`\n                    endTime = `${endDate.split('T')[0]}T23:59:59`\n                }\n                // 请求参数\n                const params = {\n                    current: currentPage.value,\n                    size: pageSize.value,\n                    startTime: startTime,\n                    endTime: endTime,\n                    ...bookQueryDto\n                }\n                const response = await proxy.$axios.post('/book/query', params)\n                const { data: responseData } = response\n                tableData.value = responseData.data\n                totalItems.value = responseData.total\n            } catch (error) {\n                console.error('查询书籍书籍信息异常:', error)\n            }\n        }\n\n        const add = () => {\n            dialogOperation.value = true\n        }\n\n        const handleFilter = () => {\n            currentPage.value = 1\n            fetchFreshData()\n        }\n\n        const handleFilterClear = () => {\n            handleFilter()\n        }\n\n        const handleSizeChange = (val) => {\n            pageSize.value = val\n            currentPage.value = 1\n            fetchFreshData()\n        }\n\n        const handleCurrentChange = (val) => {\n            currentPage.value = val\n            fetchFreshData()\n        }\n\n        const messagePush = (row) => {\n            Object.assign(data, { ...row })\n        }\n\n        const handleEdit = (row) => {\n            dialogOperation.value = true\n            isOperation.value = true\n            Object.assign(data, { ...row })\n            cover.value = row.cover\n        }\n\n        const handleDelete = (row) => {\n            delectedRows.value.push(row)\n            batchDelete()\n        }\n\n        // 生命周期\n        onMounted(() => {\n            fetchFreshData()\n            fetchCategory()\n            fetchBookshelf()\n        })\n\n        return {\n            data,\n            currentPage,\n            cover,\n            pageSize,\n            totalItems,\n            dialogOperation,\n            isOperation,\n            tableData,\n            delectedRows,\n            bookQueryDto,\n            options,\n            bookshelfOptions,\n            searchTime,\n            cannel,\n            bookshelfConfig,\n            handleBookCoverSuccess,\n            fetchBookshelf,\n            fetchCategory,\n            handleSelectionChange,\n            batchDelete,\n            resetQueryCondition,\n            updateOperation,\n            addOperation,\n            closeDialog,\n            clearFormData,\n            fetchFreshData,\n            add,\n            handleFilter,\n            handleFilterClear,\n            handleSizeChange,\n            handleCurrentChange,\n            messagePush,\n            handleEdit,\n            handleDelete\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.book-manage-container {\n    background-color: #FFFFFF;\n    padding: 20px 0;\n    border-radius: 16px;\n    width: 100%;\n    max-width: 1200px;\n    margin: 0 auto;\n    box-sizing: border-box;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.03);\n}\n\n.search-bar-container {\n    display: flex;\n    align-items: center;\n}\n\n.list-cover {\n    width: 50px;\n    height: 70px;\n    border-radius: 5px;\n}\n\n.title {\n    width: 160px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin: 0 auto;\n}\n\n.item-book {\n    background-color: white;\n    padding: 12px;\n    box-sizing: border-box;\n    border-radius: 12px;\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.06);\n    transition: all 0.3s ease;\n    border: 1px solid rgba(230, 230, 230, 0.5);\n    height: 100%;\n    \n    &:hover {\n        transform: translateY(-3px);\n        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);\n    }\n}\n\n.book-actions {\n    display: flex;\n    justify-content: center;\n    gap: 12px;\n    margin-top: 12px;\n}\n\n.book-btn {\n    padding: 4px 12px !important;\n    border: none !important;\n    border-radius: 10px !important;\n    font-size: 12px !important;\n    font-weight: 500 !important;\n    cursor: pointer !important;\n    transition: all 0.3s ease !important;\n    color: white !important;\n    outline: none !important;\n    min-width: 44px !important;\n    height: 24px !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n}\n\n.edit-btn {\n    background-color: #409EFF !important;\n    box-shadow: 0 1px 3px rgba(64, 158, 255, 0.2) !important;\n}\n\n.edit-btn:hover {\n    background-color: #66b1ff !important;\n}\n\n.delete-btn {\n    background-color: #F56C6C !important;\n    box-shadow: 0 1px 3px rgba(245, 108, 108, 0.2) !important;\n}\n\n.delete-btn:hover {\n    background-color: #f78989 !important;\n}\n\n.edit-button {\n    background-color: #409EFF !important;\n    color: white !important;\n    padding: 8px 16px !important;\n    border-radius: 20px !important;\n    cursor: pointer !important;\n    transition: all 0.3s ease !important;\n    box-shadow: 0 2px 6px rgba(64, 158, 255, 0.3) !important;\n    font-weight: 500 !important;\n    display: inline-block !important;\n}\n\n.edit-button:hover {\n    background-color: #66b1ff !important;\n    box-shadow: 0 4px 10px rgba(64, 158, 255, 0.4) !important;\n    transform: translateY(-2px) !important;\n}\n\n.dialog-input {\n    width: 100%;\n    padding: 6px 8px;\n    border: 1px solid #DCDFE6;\n    border-radius: 4px;\n    box-sizing: border-box;\n    font-size: 12px;\n    font-weight: 400;\n    color: #606266;\n}\n\n.dialog-input:focus {\n    border-color: #409EFF;\n    outline: none;\n}\n\n.point {\n    font-size: 12px;\n    color: #606266;\n    margin-bottom: 3px;\n    font-weight: 400;\n}\n\n.dialog-title {\n    font-size: 15px;\n    font-weight: 500;\n    color: #303133;\n    margin: 0;\n    padding: 8px 0;\n}\n\n.dialog-btn {\n    display: inline-block !important;\n    padding: 6px 15px !important;\n    border-radius: 16px !important;\n    cursor: pointer !important;\n    transition: all 0.3s ease !important;\n    font-size: 12px !important;\n    font-weight: 400 !important;\n    margin-left: 10px !important;\n}\n\n.cancel-btn {\n    background-color: #F5F7FA !important;\n    color: #606266 !important;\n    border: 1px solid #DCDFE6 !important;\n}\n\n.cancel-btn:hover {\n    color: #409EFF !important;\n    border-color: #c6e2ff !important;\n    background-color: #ECF5FF !important;\n}\n\n.confirm-btn {\n    background-color: #409EFF !important;\n    color: white !important;\n    border: none !important;\n    box-shadow: 0 2px 6px rgba(64, 158, 255, 0.2) !important;\n}\n\n.confirm-btn:hover {\n    background-color: #66b1ff !important;\n}\n\n.avatar-uploader {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 10px;\n}\n\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n    text-align: center;\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n}\n\n.dialog-cover {\n    width: 120px;\n    height: 120px;\n    display: block;\n    border-radius: 6px;\n    object-fit: cover;\n}\n\n.book-grid {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    gap: 16px;\n    margin-bottom: 20px;\n}\n\n.book-col {\n    padding: 0;\n    margin-bottom: 0;\n}\n\n// 响应式调整\n@media (max-width: 1500px) {\n    .book-grid {\n        grid-template-columns: repeat(5, 1fr);\n    }\n}\n\n@media (max-width: 1300px) {\n    .book-grid {\n        grid-template-columns: repeat(4, 1fr);\n    }\n}\n\n@media (max-width: 1000px) {\n    .book-grid {\n        grid-template-columns: repeat(3, 1fr);\n    }\n}\n\n@media (max-width: 768px) {\n    .book-grid {\n        grid-template-columns: repeat(2, 1fr);\n    }\n}\n\n@media (max-width: 576px) {\n    .book-grid {\n        grid-template-columns: repeat(1, 1fr);\n    }\n}\n\n// 书籍对话框样式\n.book-dialog {\n    border-radius: 8px;\n    overflow: hidden;\n    \n    .el-dialog__header {\n        display: none; // 隐藏原来的标题区域\n    }\n    \n    .el-dialog__body {\n        padding: 0;\n    }\n}\n\n.dialog-header {\n    background-color: #f9f9f9;\n    padding: 14px 20px;\n    border-bottom: 1px solid #ebeef5;\n}\n\n.dialog-content {\n    padding: 16px 20px;\n}\n\n.dialog-title {\n    font-size: 16px;\n    font-weight: 600;\n    color: #303133;\n    margin: 0;\n    padding: 0;\n    position: relative;\n    display: inline-block;\n    \n    &:after {\n        content: '';\n        position: absolute;\n        bottom: -6px;\n        left: 0;\n        width: 30px;\n        height: 2px;\n        background-color: #409EFF;\n    }\n}\n\n.dialog-footer {\n    padding: 10px 20px 16px;\n    text-align: right;\n    border-top: 1px solid #ebeef5;\n}\n\n.form-label {\n    font-size: 13px;\n    color: #606266;\n    margin-bottom: 6px;\n    font-weight: 500;\n    display: block;\n    \n    i {\n        margin-right: 5px;\n        color: #409EFF;\n    }\n    \n    .required {\n        color: #F56C6C;\n        margin-left: 2px;\n    }\n}\n\n.form-group {\n    margin-bottom: 12px;\n}\n\n.dialog-input {\n    width: 100%;\n    padding: 8px 10px;\n    border: 1px solid #DCDFE6;\n    border-radius: 4px;\n    box-sizing: border-box;\n    font-size: 13px;\n    color: #606266;\n    \n    &:focus {\n        border-color: #409EFF;\n        outline: none;\n    }\n}\n\n.book-cover-uploader {\n    margin-bottom: 12px;\n    display: flex;\n    justify-content: center;\n}\n\n.book-cover-image {\n    width: 150px;\n    height: 150px;\n    display: block;\n    object-fit: cover;\n    border-radius: 4px;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.book-cover-placeholder {\n    width: 150px;\n    height: 150px;\n    line-height: 150px;\n    text-align: center;\n    border: 1px dashed #d9d9d9;\n    border-radius: 4px;\n    background-color: #fafafa;\n    font-size: 24px;\n    color: #8c939d;\n    cursor: pointer;\n    transition: all 0.3s;\n    \n    &:hover {\n        border-color: #409EFF;\n        color: #409EFF;\n    }\n}\n\n.presale-group {\n    display: flex;\n    align-items: center;\n    \n    .switch-label {\n        margin-left: 10px;\n        font-size: 13px;\n        color: #606266;\n    }\n}\n\n.cancel-btn, .confirm-btn {\n    padding: 7px 16px;\n    font-size: 13px;\n    border-radius: 4px;\n    \n    &:focus {\n        outline: none;\n    }\n}\n\n.cancel-btn {\n    &:hover {\n        color: #409EFF;\n        border-color: #c6e2ff;\n        background-color: #ecf5ff;\n    }\n}\n\n.confirm-btn {\n    &:hover {\n        background-color: #66b1ff;\n        border-color: #66b1ff;\n    }\n}\n\n// 添加按钮悬停效果\n.add-button {\n    &:hover {\n        background-color: #85ce61;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 8px rgba(103, 194, 58, 0.4);\n    }\n}\n\n// 分页样式美化\n:deep(.el-pagination) {\n    .el-pagination__total {\n        font-weight: 500;\n    }\n    \n    .el-pagination__sizes {\n        .el-input .el-input__inner {\n            border-radius: 4px;\n            transition: all 0.3s;\n            \n            &:hover, &:focus {\n                border-color: #409EFF;\n            }\n        }\n    }\n    \n    .el-pager li {\n        border-radius: 4px;\n        transition: all 0.3s;\n        \n        &:hover {\n            color: #409EFF;\n        }\n        \n        &.active {\n            background-color: #409EFF;\n            color: #fff;\n        }\n    }\n    \n    .btn-prev, .btn-next {\n        border-radius: 4px;\n        \n        &:hover {\n            color: #409EFF;\n        }\n    }\n}\n\n.new-book-btn {\n    padding: 7px 20px;\n    background-color: #67c23a;\n    color: white;\n    border-radius: 20px;\n    cursor: pointer;\n    transition: all 0.3s;\n    margin-left: auto;\n    font-size: 14px;\n    box-shadow: 0 2px 6px rgba(103, 194, 58, 0.3);\n    float: right;\n    \n    i {\n        margin-right: 5px;\n        font-size: 12px;\n    }\n    \n    &:hover {\n        background-color: #85ce61;\n        transform: translateY(-1px);\n        box-shadow: 0 4px 8px rgba(103, 194, 58, 0.4);\n    }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}