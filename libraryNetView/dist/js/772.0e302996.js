"use strict";(self["webpackChunkprosonal_health_web"]=self["webpackChunkprosonal_health_web"]||[]).push([[772],{4114:function(e,t,n){var r=n(6518),i=n(8981),a=n(6198),o=n(4527),c=n(6837),s=n(9039),l=s(function(){return 4294967297!==[].push.call({length:4294967296},1)}),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=l||!u();r({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=i(this),n=a(t),r=arguments.length;c(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return o(t,n),n}})},4376:function(e,t,n){var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4527:function(e,t,n){var r=n(3724),i=n(4376),a=TypeError,o=Object.getOwnPropertyDescriptor,c=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=c?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6772:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(641),i=n(3751),a=n(33);const o={class:"notice-container"},c={key:0,class:"word-search"},s={class:"item"},l={class:"content-wrapper"},u={key:1,class:"notice-list"},p={class:"notice-content"},h={class:"notice-date"},d={class:"notice-title"},g={class:"notice-summary"},v=["innerHTML"],f={key:1,class:"preview-placeholder"},y={class:"btn-container"},C={key:1,class:"pagination-wrapper"};function k(e,t,n,k,L,w){const b=(0,r.g2)("Search"),m=(0,r.g2)("el-icon"),x=(0,r.g2)("el-empty"),z=(0,r.g2)("View"),E=(0,r.g2)("el-button"),_=(0,r.g2)("el-pagination");return(0,r.uX)(),(0,r.CE)("div",o,[0!==k.noticeList.length?((0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("div",s,[(0,r.bF)(m,null,{default:(0,r.k6)(()=>[(0,r.bF)(b)]),_:1}),(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"搜索公告标题","onUpdate:modelValue":t[0]||(t[0]=e=>k.noticeQueryDto.name=e),onKeyup:t[1]||(t[1]=(0,i.jR)((...e)=>k.fetchNoticeList&&k.fetchNoticeList(...e),["enter"]))},null,544),[[i.Jo,k.noticeQueryDto.name]]),(0,r.Lk)("span",{class:"search-text",onClick:t[2]||(t[2]=(...e)=>k.fetchNoticeList&&k.fetchNoticeList(...e))},"搜索")])])):(0,r.Q3)("",!0),(0,r.Lk)("div",l,[0===k.noticeList.length?((0,r.uX)(),(0,r.Wv)(x,{key:0,description:"暂无公告","image-size":200})):((0,r.uX)(),(0,r.CE)("div",u,[t[6]||(t[6]=(0,r.Lk)("div",{class:"page-title"},[(0,r.Lk)("span",{class:"title-text"},"系统公告"),(0,r.Lk)("div",{class:"line-decoration"})],-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.noticeList,(e,n)=>((0,r.uX)(),(0,r.CE)("div",{key:n,class:"notice-card"},[t[5]||(t[5]=(0,r.Lk)("div",{class:"time-marker"},null,-1)),(0,r.Lk)("div",p,[(0,r.Lk)("div",h,(0,a.v_)(e.createTime),1),(0,r.Lk)("h3",d,(0,a.v_)(e.name),1),(0,r.Lk)("div",g,[e.content?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"preview-content",innerHTML:k.getContentPreview(e.content)},null,8,v)):((0,r.uX)(),(0,r.CE)("div",f,"暂无内容预览，点击查看详情..."))]),(0,r.Lk)("div",y,[(0,r.bF)(E,{type:"warning",size:"small",circle:"",onClick:t=>k.seeContent(e),class:"detail-btn"},{default:(0,r.k6)(()=>[(0,r.bF)(m,null,{default:(0,r.k6)(()=>[(0,r.bF)(z)]),_:1})]),_:2},1032,["onClick"]),t[4]||(t[4]=(0,r.Lk)("span",{class:"btn-text"},"查看详情",-1))])])]))),128))]))]),0!==k.noticeList.length?((0,r.uX)(),(0,r.CE)("div",C,[(0,r.bF)(_,{onSizeChange:k.handleSizeChange,onCurrentChange:k.handleCurrentChange,"current-page":k.current,"onUpdate:currentPage":t[3]||(t[3]=e=>k.current=e),"page-size":k.size,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:k.totalCount},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])):(0,r.Q3)("",!0)])}n(4114);var L=n(953),w=n(5220),b=n(8548),m={components:{Search:b.Search,View:b.View},setup(){const{proxy:e}=(0,r.nI)(),t=(0,w.rd)(),n=(0,L.KR)(1),i=(0,L.KR)(10),a=(0,L.KR)(0),o=(0,L.KR)([]),c=(0,L.Kh)({}),s=(0,L.KR)("/noticeDetail"),l=(0,L.KR)("noticeInfo"),u=(0,L.KR)(120),p=e=>{sessionStorage.setItem(l.value,JSON.stringify(e)),t.push(s.value)},h=async()=>{try{const t=await e.$axios.post("/notice/query",c),{data:n}=t;200===n.code&&(o.value=n.data,a.value=n.total)}catch(t){e.$notify({title:"公告查询异常",message:t,type:"error"}),console.error("系统公告信息异常:",t)}},d=e=>{if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let n=t.textContent||t.innerText||"";return n=n.replace(/\s+/g," ").trim(),n.length>u.value?n.substring(0,u.value)+"...":n},g=e=>{c.size=e,c.current=1,h()},v=e=>{c.size=10,c.current=e,h()};return(0,r.sV)(()=>{h()}),{current:n,size:i,totalCount:a,noticeList:o,noticeQueryDto:c,routeNoticeDetail:s,jsonNoticeInfoName:l,previewMaxLength:u,seeContent:p,fetchNoticeList:h,getContentPreview:d,handleSizeChange:g,handleCurrentChange:v}}},x=n(6262);const z=(0,x.A)(m,[["render",k],["__scopeId","data-v-217b1984"]]);var E=z},6837:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}}}]);
//# sourceMappingURL=772.0e302996.js.map